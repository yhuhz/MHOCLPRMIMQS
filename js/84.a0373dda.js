"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[84],{8084:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Se});var a=l(1347),i=l(7763);const s={class:"q-pa-md"},n={class:"flex items-baseline justify-between"},d={class:"column items-center"},o={class:"text-primary text-weight-bold text-h4"},r={class:"grid q-mt-lg"},u={class:"card-box midwifes-notes"},c={key:0,class:"q-mb-lg",style:{"justify-content":"center",height:"30px"}},p={key:0,class:"row q-px-md"},m={key:1,class:"row q-px-md"},h={key:1},k={class:"flex items-baseline justify-between q-px-md q-mb-sm"},y={class:"flex items-baseline justify-between q-px-md q-mb-sm"},v={class:"flex items-baseline justify-between q-px-md q-mb-sm"},b={class:"flex items-baseline justify-between q-px-md q-mb-sm"},x={class:"flex items-baseline justify-between q-px-md q-mb-sm"},g={class:"flex items-baseline justify-between q-px-md"},_={class:"row justify-end items-center"},f={class:"flex items-baseline justify-between q-px-md q-mb-sm"},w={class:"flex items-baseline justify-between q-px-md"},q={class:"row justify-end items-center"},F={class:"card-box prenatal-checkup"},C={class:"flex justify-between items-center bg-primary q-mb-md",style:{"justify-content":"center"}},V={key:0,class:"q-mb-lg",style:{"justify-content":"center",height:"30px"}},L={key:0,class:"row q-px-md"},R={key:1,class:"row q-px-md"},E={key:1,style:{position:"relative"}},A={class:"flex items-baseline justify-between q-px-md"},S={class:"flex items-baseline justify-between q-px-md"},D={class:"flex items-center justify-end"},N={class:"flex items-baseline justify-between q-px-md"},P={class:"flex items-baseline justify-between q-px-md"},U={class:"flex items-baseline justify-between q-px-md q-mb-sm"},Q={class:"flex items-baseline justify-between q-px-md"},I={class:"flex items-baseline justify-between q-px-md"},j={class:"flex items-baseline justify-between q-px-md"},M={class:"flex items-baseline justify-between q-px-md"},T={class:"flex items-baseline justify-between q-px-md"},X={class:"row justify-end items-center"},K={class:"q-px-md q-mb-md"},Y={class:"flex justify-between items-center q-mt-md"},W={class:"text-bold text-dark q-my-none"},$={class:"q-mb-md"},B={key:0,class:"text-center"},z={class:"row"},H={key:0,class:"col-2 text-dark",style:{visibility:"hidden"}},O={class:"row q-mb-md"},G={class:"row"};function J(e,t,l,J,Z,ee){const te=(0,a.g2)("q-btn"),le=(0,a.g2)("q-checkbox"),ae=(0,a.g2)("q-select"),ie=(0,a.g2)("q-input"),se=(0,a.g2)("q-date"),ne=(0,a.g2)("q-popup-proxy"),de=(0,a.g2)("q-icon"),oe=(0,a.g2)("q-form"),re=(0,a.g2)("q-separator"),ue=(0,a.g2)("q-scroll-area"),ce=(0,a.g2)("q-card"),pe=(0,a.g2)("q-dialog"),me=(0,a.g2)("MHCDialog"),he=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("div",d,[(0,a.Lk)("label",o,"PNL"+(0,i.v_)(e.$route.params.record_id),1)])]),(0,a.Lk)("div",r,[(0,a.Lk)("div",u,[(0,a.bF)(oe,{onSubmit:e.editPrenatalRecordFunction},{default:(0,a.k6)((()=>[t[35]||(t[35]=(0,a.Lk)("div",{class:"q-mb-md"},[(0,a.Lk)("p",{class:"bg-green-7 text-white text-center mn-heading",style:{padding:"7px 0px"}}," Pregnancy Record ")],-1)),e.keySession&&3===e.keySession.department&&3!==e.keySession.permission_level&&!e.miscarriageCheck?((0,a.uX)(),(0,a.CE)("div",c,[e.editForm||e.isEditCheckup?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(te,{onClick:t[0]||(t[0]=t=>e.editForm=!e.editForm),dense:"",label:"Edit Midwife's Notes",icon:"eva-edit-outline","no-caps":"",outline:"",color:"primary",class:"col"})])),e.editForm?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.bF)(te,{dense:"",label:"Save",type:"submit",icon:"save","no-caps":"",color:"primary",class:"col q-mr-sm"}),(0,a.bF)(te,{onClick:e.cancelFunction,dense:"",label:"Cancel",icon:"close","no-caps":"",class:"col q-ml-sm",outline:"",color:"primary"},null,8,["onClick"])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),e.editForm||e.isEditCheckup?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(le,{disable:!e.keySession&&3!==e.keySession.department&&3===e.keySession.permission_level,modelValue:e.miscarriageCheck,"onUpdate:modelValue":t[1]||(t[1]=t=>e.miscarriageCheck=t),label:"This pregnancy is a miscarriage",class:"q-ml-sm text-weight-bold"},null,8,["disable","modelValue"])])),(0,a.Lk)("div",k,[t[29]||(t[29]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Midwife:",-1)),(0,a.bF)(ae,{outlined:"",modelValue:e.patientRecordInfo.midwife_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.patientRecordInfo.midwife_id=t),onFilter:e.userFilterFunction,"option-label":"user_name","option-value":"user_id",options:e.userOptions,"emit-value":"","map-options":"",dense:"",readonly:"","input-style":"padding: 0","input-class":"text-right text-primary"},null,8,["modelValue","onFilter","options"])]),(0,a.Lk)("div",y,[t[30]||(t[30]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Prev. Full Term:",-1)),(0,a.bF)(ie,{readonly:!e.editForm,"hide-bottom-space":"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.previous_full_term,"onUpdate:modelValue":t[3]||(t[3]=t=>e.patientRecordInfo.previous_full_term=t),rules:[e=>0===e||e&&!isNaN(e)||"Numbers only"]},null,8,["readonly","modelValue","rules"])]),(0,a.Lk)("div",v,[t[31]||(t[31]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Prev. Premature:",-1)),(0,a.bF)(ie,{readonly:!e.editForm,"hide-bottom-space":"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.previous_premature,"onUpdate:modelValue":t[4]||(t[4]=t=>e.patientRecordInfo.previous_premature=t),rules:[e=>0===e||e&&!isNaN(e)||"Numbers only"]},null,8,["readonly","modelValue","rules"])]),(0,a.Lk)("div",b,[t[32]||(t[32]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Prev. Miscarriage:",-1)),(0,a.bF)(ie,{readonly:!e.editForm,"hide-bottom-space":"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.previous_miscarriage,"onUpdate:modelValue":t[5]||(t[5]=t=>e.patientRecordInfo.previous_miscarriage=t),rules:[e=>0===e||e&&!isNaN(e)||"Numbers only"]},null,8,["readonly","modelValue","rules"])]),(0,a.Lk)("div",x,[t[33]||(t[33]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"1st Checkup Date:",-1)),(0,a.bF)(ie,{readonly:"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.date_added,"onUpdate:modelValue":t[6]||(t[6]=t=>e.patientRecordInfo.date_added=t)},null,8,["modelValue"])]),(0,a.Lk)("div",g,[t[34]||(t[34]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Last Menstruation:",-1)),(0,a.bF)(ie,{readonly:"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.last_menstruation,"onUpdate:modelValue":t[8]||(t[8]=t=>e.patientRecordInfo.last_menstruation=t),style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>e&&e.length>0||"Required field"]},(0,a.eX)({_:2},[e.editForm?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(de,{name:"event",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(ne,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(se,{mask:"YYYY-MM-DD",modelValue:e.patientRecordInfo.last_menstruation,"onUpdate:modelValue":t[7]||(t[7]=t=>e.patientRecordInfo.last_menstruation=t),options:t=>t<=e.checkup_date,rules:[e=>e&&e.length>0||"Required field"]},{default:(0,a.k6)((()=>[(0,a.Lk)("div",_,[(0,a.bo)((0,a.bF)(te,{color:"primary",label:"Close",dense:"",flat:""},null,512),[[he]])])])),_:1},8,["modelValue","options","rules"])])),_:1})])),_:1})])),key:"0"}:void 0]),1032,["modelValue","style","rules"])]),(0,a.Lk)("div",f,[(0,a.Lk)("p",{class:"text-primary text-weight-bold",style:(0,i.Tr)(e.$q.screen.width<1367?"width: 100px":"")}," Expected Date of Delivery: ",4),(0,a.bF)(ie,{readonly:"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.edd,"onUpdate:modelValue":t[9]||(t[9]=t=>e.edd=t)},null,8,["modelValue"])]),(0,a.Lk)("div",w,[(0,a.Lk)("p",{class:"text-primary text-weight-bold",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 100px")}," Tetanus Toxoid Vaccination Date: ",4),(0,a.bF)(ie,{readonly:"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.tetanus_vaccine,"onUpdate:modelValue":t[11]||(t[11]=t=>e.patientRecordInfo.tetanus_vaccine=t),style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px")},(0,a.eX)({_:2},[e.editForm?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(de,{name:"event",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(ne,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(se,{mask:"YYYY-MM-DD",modelValue:e.patientRecordInfo.tetanus_vaccine,"onUpdate:modelValue":t[10]||(t[10]=t=>e.patientRecordInfo.tetanus_vaccine=t),options:t=>t<=e.checkup_date,rules:[e=>e&&e.length>0||"Required field"]},{default:(0,a.k6)((()=>[(0,a.Lk)("div",q,[(0,a.bo)((0,a.bF)(te,{color:"primary",label:"Close",dense:"",flat:""},null,512),[[he]])])])),_:1},8,["modelValue","options","rules"])])),_:1})])),_:1})])),key:"0"}:void 0]),1032,["modelValue","style"])])])),_:1},8,["onSubmit"])]),(0,a.Lk)("div",F,[(0,a.bF)(oe,{onSubmit:e.submitFunction},{default:(0,a.k6)((()=>[(0,a.Lk)("div",C,[t[36]||(t[36]=(0,a.Lk)("label",{class:"mn-heading text-white"},"Checkup Date:",-1)),(0,a.bF)(ae,{modelValue:e.selectedCheckup,"onUpdate:modelValue":[t[12]||(t[12]=t=>e.selectedCheckup=t),e.changeCheckupDate],borderless:"",dense:"",dark:"",readonly:e.isEditCheckup,color:"white",options:e.RecordArrays,"option-label":"checkup_date","option-value":"checkup_date","emit-value":"","map-options":"","input-class":"text-white text-bold",class:"col mn-heading q-ml-lg",style:{"max-width":"150px"}},null,8,["modelValue","readonly","options","onUpdate:modelValue"])]),e.keySession&&3===e.keySession.department&&3!==e.keySession.permission_level&&!e.miscarriageCheck?((0,a.uX)(),(0,a.CE)("div",V,[e.isEditCheckup||e.editForm?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",L,[null!==e.selectedCheckup?((0,a.uX)(),(0,a.Wv)(te,{key:0,onClick:t[13]||(t[13]=t=>e.isEditCheckup=!e.isEditCheckup),dense:"",label:"Edit Checkup",icon:"eva-edit-outline","no-caps":"",outline:"",color:"primary",class:"col q-mr-sm"})):(0,a.Q3)("",!0),(0,a.bF)(te,{dense:"",label:"Add Checkup",icon:"add_circle","no-caps":"",outline:"",color:"primary",class:"col q-ml-sm",onClick:e.addCheckupRecord},null,8,["onClick"])])),e.isEditCheckup?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.bF)(te,{dense:"",label:"Save",type:"submit",icon:"save","no-caps":"",color:"primary",class:"col q-mr-sm"}),(0,a.bF)(te,{onClick:e.cancelFunction,dense:"",label:"Cancel",icon:"close","no-caps":"",class:"col q-ml-sm",outline:"",color:"primary"},null,8,["onClick"])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),e.selectedCheckup?((0,a.uX)(),(0,a.CE)("div",E,[(0,a.bF)(ue,{style:{height:"550px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[t[48]||(t[48]=(0,a.Lk)("div",{class:"text-center"},[(0,a.Lk)("label",{class:"text-weight-bold"},[(0,a.Lk)("span",{class:"text-negative"},"*"),(0,a.eW)(" Required Fields")])],-1)),(0,a.Lk)("div",A,[t[37]||(t[37]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Temperature "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.temperature,"onUpdate:modelValue":t[14]||(t[14]=t=>e.prenatal_checkup.temperature=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"Â°C",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","style","rules"])]),(0,a.Lk)("div",S,[t[39]||(t[39]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Blood Pressure "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.Lk)("div",D,[(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.blood_pressure_systole,"onUpdate:modelValue":t[15]||(t[15]=t=>e.prenatal_checkup.blood_pressure_systole=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",style:{width:"70px"},rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","rules"]),t[38]||(t[38]=(0,a.Lk)("label",{class:"text-primary text-bold q-px-sm"},"/",-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.blood_pressure_diastole,"onUpdate:modelValue":t[16]||(t[16]=t=>e.prenatal_checkup.blood_pressure_diastole=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",style:{width:"70px"},rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","rules"])])]),(0,a.Lk)("div",N,[t[40]||(t[40]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Height "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.height,"onUpdate:modelValue":[t[17]||(t[17]=t=>e.prenatal_checkup.height=t),e.updateBMI],outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"cm",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","style","rules","onUpdate:modelValue"])]),(0,a.Lk)("div",P,[t[41]||(t[41]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Weight "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.weight,"onUpdate:modelValue":[t[18]||(t[18]=t=>e.prenatal_checkup.weight=t),e.updateBMI],outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"kg",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","style","rules","onUpdate:modelValue"])]),(0,a.Lk)("div",U,[t[42]||(t[42]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},"BMI",-1)),(0,a.bF)(ie,{readonly:"",modelValue:e.bmi,"onUpdate:modelValue":t[19]||(t[19]=t=>e.bmi=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px")},null,8,["modelValue","style"])]),(0,a.Lk)("div",Q,[t[43]||(t[43]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Pulse Rate "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.pulse_rate,"onUpdate:modelValue":t[20]||(t[20]=t=>e.prenatal_checkup.pulse_rate=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"bpm",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","style","rules"])]),(0,a.Lk)("div",I,[t[44]||(t[44]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Oxygen Saturation "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.oxygen_sat,"onUpdate:modelValue":t[21]||(t[21]=t=>e.prenatal_checkup.oxygen_sat=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"%",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["readonly","modelValue","style","rules"])]),(0,a.Lk)("div",j,[t[45]||(t[45]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Age of Gestation "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:"",modelValue:e.aog,"onUpdate:modelValue":t[22]||(t[22]=t=>e.aog=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"Weeks",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px")},null,8,["modelValue","style"])]),(0,a.Lk)("div",M,[t[46]||(t[46]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Fundal Height "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.fundal_height,"onUpdate:modelValue":t[23]||(t[23]=t=>e.prenatal_checkup.fundal_height=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",label:"cm",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||!isNaN(e)||""]},null,8,["readonly","modelValue","style","rules"])]),(0,a.Lk)("div",T,[t[47]||(t[47]=(0,a.Lk)("p",{class:"text-weight-bold text-primary"},[(0,a.eW)(" Next Checkup "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(ie,{readonly:"",modelValue:e.prenatal_checkup.next_checkup,"onUpdate:modelValue":t[25]||(t[25]=t=>e.prenatal_checkup.next_checkup=t),outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",style:(0,i.Tr)(e.$q.screen.width>1366?"":"width: 180px"),rules:[e=>0===e||e&&e.length>0||""]},(0,a.eX)({_:2},[e.isEditCheckup?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(de,{name:"event",class:"cursor-pointer",color:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(ne,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(se,{modelValue:e.prenatal_checkup.next_checkup,"onUpdate:modelValue":t[24]||(t[24]=t=>e.prenatal_checkup.next_checkup=t),options:t=>t>=e.checkup_date_prenatal,mask:"YYYY-MM-DD"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",X,[(0,a.bo)((0,a.bF)(te,{color:"primary",label:"Close",dense:"",flat:""},null,512),[[he]])])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),key:"0"}:void 0]),1032,["modelValue","style","rules"])])]),(0,a.bF)(re,{class:"separator-2 q-mx-md",color:"primary"}),(0,a.Lk)("div",K,[(0,a.bF)(ie,{readonly:!e.isEditCheckup,modelValue:e.prenatal_checkup.comments,"onUpdate:modelValue":t[26]||(t[26]=t=>e.prenatal_checkup.comments=t),autogrow:"","hide-bottom-space":"",outlined:"",dense:"","input-class":"text-primary",placeholder:"Enter notes here",class:"q-mt-md q-mb-sm","input-style":"min-height:100px; max-height: 100px",rules:[e=>0===e||e&&e.length>0||"Required field"]},null,8,["readonly","modelValue","rules"]),(0,a.bF)(te,{icon:"medication",dense:"",outline:"","no-caps":"",color:"primary",label:e.isEditCheckup&&e.keySession&&3===e.keySession.department?"Edit Prescription":"View Prescription",class:"q-px-md",onClick:t[27]||(t[27]=t=>e.isPrescription=!e.isPrescription)},null,8,["label"])])])),_:1})])):(0,a.Q3)("",!0)])),_:1},8,["onSubmit"])])]),(0,a.bF)(pe,{modelValue:e.isPrescription,"onUpdate:modelValue":t[28]||(t[28]=t=>e.isPrescription=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(ce,{class:"q-pa-lg",style:{overflow:"hidden","min-width":"500px","max-width":"750px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Y,[(0,a.Lk)("h5",W,[(0,a.bF)(de,{name:"assignment",color:"primary"}),t[49]||(t[49]=(0,a.eW)(" Prescription "))]),e.isEditCheckup&&e.keySession&&3===e.keySession.department&&(0===e.prenatal_checkup.prescription.length||""!==e.prenatal_checkup.prescription[e.prenatal_checkup.prescription.length-1].medicine_name&&""!==e.prenatal_checkup.prescription[e.prenatal_checkup.prescription.length-1].quantity)?((0,a.uX)(),(0,a.Wv)(te,{key:0,outline:"",color:"primary",icon:"add_circle",label:"Add","no-caps":"",style:{"border-radius":"5px"},onClick:e.addPrescription},null,8,["onClick"])):(0,a.Q3)("",!0)]),(0,a.bF)(re,{color:"primary",class:"q-my-md"}),(0,a.Lk)("div",$,[e.isEditCheckup&&e.keySession&&3===e.keySession.department?((0,a.uX)(),(0,a.CE)("div",B,t[50]||(t[50]=[(0,a.Lk)("p",{class:"text-grey-7 text-caption"}," If the medicine is not on the list, please input the medicine name and press enter ",-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("div",z,[t[51]||(t[51]=(0,a.Lk)("label",{class:"col text-dark text-bold q-mr-md"},"Medicine Name",-1)),t[52]||(t[52]=(0,a.Lk)("label",{class:"col-2 text-dark text-bold q-mr-md"},"Quantity",-1)),e.isEditCheckup&&e.keySession&&3===e.keySession.department?((0,a.uX)(),(0,a.CE)("label",H,"Quantity")):(0,a.Q3)("",!0)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.prenatal_checkup.prescription,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l},[(0,a.Lk)("div",O,[(0,a.bF)(ae,{modelValue:t.medicine_name,"onUpdate:modelValue":e=>t.medicine_name=e,dense:"",outlined:"",readonly:!e.isEditCheckup||e.keySession&&3!==e.keySession.department,options:e.medicineList,onFilter:e.medicineFilterFunction,"option-label":"medicine_name","option-value":"medicine_name","use-chips":"","use-input":"","emit-value":"","map-options":"","new-value-mode":"add-unique",class:"col q-mr-md"},null,8,["modelValue","onUpdate:modelValue","readonly","options","onFilter"]),(0,a.bF)(ie,{readonly:!e.isEditCheckup||e.keySession&&3!==e.keySession.department,autogrow:"",dense:"",outlined:"",class:"col-2 q-mr-md","input-class":"text-dark",modelValue:t.quantity,"onUpdate:modelValue":e=>t.quantity=e,"hide-bottom-space":"",rules:[e=>!isNaN(e)||"Numbers only"]},null,8,["readonly","modelValue","onUpdate:modelValue","rules"]),e.isEditCheckup&&e.keySession&&3===e.keySession.department?((0,a.uX)(),(0,a.Wv)(de,{key:0,name:"delete",color:"negative",class:"col-2",style:{cursor:"pointer"},size:"md",onClick:t=>e.removePrescription(l)},null,8,["onClick"])):(0,a.Q3)("",!0)])])))),128))]),(0,a.Lk)("div",G,[!e.isEditCheckup||0===e.prenatal_checkup.prescription.length||""!==e.prenatal_checkup.prescription[e.prenatal_checkup.prescription.length-1].medicine_name&&""!==e.prenatal_checkup.prescription[e.prenatal_checkup.prescription.length-1].quantity?((0,a.uX)(),(0,a.Wv)(te,{key:0,class:"col",icon:"check",label:"Done",color:"primary","no-caps":"",onClick:e.closePrescription},null,8,["onClick"])):(0,a.Q3)("",!0)])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(me,{content:e.$options.components.DeletePatientRecordConfirmation},null,8,["content"])])}l(939),l(4520);var Z=l(4187),ee=l(3877),te=l(662),le=l(834),ae=l(6091),ie=l(2222),se=l(455),ne=l(7370),de=l(4202),oe=l(8822),re=l(8564),ue=l(3328),ce=l(3022),pe=l(891);const me={components:{MHCDialog:te.A,DeletePatientRecordConfirmation:le.A},setup(){const e=(0,ce.A)(),t=(0,se.lq)(),l=(0,se.rd)();let i=ue.A.getItem("cred");NaN!=i&&null!=i||l.push({name:"login"}),re.A.show();let s=(0,Z.KR)({}),n=(0,Z.KR)([]),d=(0,Z.KR)(null),o=(0,Z.KR)([]),r=(0,Z.KR)([]);(0,ne.zQ)(t.params.record_id,t.params.department).then((e=>{re.A.hide()}));let u=(0,Z.KR)(!1),c=(0,Z.KR)(!1),p=(0,Z.KR)(null),m=(0,Z.KR)(null),h=(0,Z.KR)(null),k=(0,Z.KR)(null),y=(0,Z.KR)(!1);(0,a.wB)((()=>ee.cloneDeep(ne.md.value)),(()=>{t.params.queue||(u.value=!1,c.value=!1,d.value=0!==ne.qd.value.length?ne.qd.value[0].checkup_date:null,0===ne.qd.value.length?n.value=[]:ne.qd.value.forEach((e=>{e.checkup_date===d.value&&(n.value=e)}))),s.value={prenatal_id:t.params.record_id,midwife_id:{user_id:ne.md.value.midwife_id,user_name:ne.md.value.midwife_name},last_menstruation:ne.md.value.last_menstruation,date_added:ne.md.value.date_added,previous_full_term:ne.md.value.previous_full_term,previous_premature:ne.md.value.previous_premature,previous_miscarriage:ne.md.value.previous_miscarriage,tetanus_vaccine:ne.md.value.tetanus_vaccine,status:0};let e=new Date(ne.md.value.last_menstruation);e.setMonth(e.getMonth()-3),e.setFullYear(e.getFullYear()+1),e.setDate(e.getDate()+7),k.value=e.toLocaleDateString("en-CA");let l=new Date(ne.md.value.last_menstruation),a=new Date,i=a.getTime()-l.getTime(),o=i/864e5,r=Math.floor(o/7);h.value=r,m.value="undefined"===typeof n.value.weight||"undefined"===typeof n.value.height?"":(n.value.weight/Math.pow(n.value.height/100,2)).toFixed(2),p.value=s.value.date_added.replaceAll("-","/")}));let v=(0,Z.KR)();(0,a.wB)((()=>ee.cloneDeep(ne.qd.value)),(()=>{})),d.value=0!==ne.qd.value.length?ne.qd.value[0].checkup_date:null,ne.qd.value.forEach((e=>{e.checkup_date===d.value&&(n.value=e,v.value=n.value.checkup_date.replaceAll("-","/"))}));const b=()=>{m.value=(n.value.weight/Math.pow(n.value.height/100,2)).toFixed(2)>0?(n.value.weight/Math.pow(n.value.height/100,2)).toFixed(2):""},x=()=>{ne.qd.value.forEach((e=>{e.checkup_date===d.value&&(n.value=e,v.value=n.value.checkup_date.replaceAll("-","/"))}))};let g=(0,Z.KR)([]);const _=(e,t,l)=>{e.length>-1?t((()=>{const t=String(e.toLowerCase());(0,oe.i4)(t).then((e=>{if(g.value=[],"success"===e.status){let t=(0,Z.KR)([]);t.value=e.data,t.value.forEach((e=>{let t={user_name:e.user_name,user_id:e.id};g.value.push(t)}))}}))})):l()};let f=()=>{re.A.show(),!0===c.value&&(d.value=0!==ne.qd.value.length?ne.qd.value[0].checkup_date:null,ne.qd.value.forEach((e=>{e.checkup_date===d.value&&(n.value=e)}))),u.value=!1,c.value=!1,(0,ne.zQ)(t.params.record_id,t.params.department).then((e=>{re.A.hide()}))};const w=()=>{u.value=!1,null!=s.value.midwife_id.user_id&&(s.value.midwife_id=s.value.midwife_id.user_id);let l={prenatal:s.value};re.A.show(),(0,ne.ti)(l,t.params.department).then((t=>{re.A.hide();let l="success"===t.status?0:1;e.notify({type:0===l?"positive":"negative",classes:"text-white",message:0===l?"Patient record edited successfully":"Failed to edit patient record"})}))},q=()=>{c.value=!1,null!=s.value.midwife_id.user_id&&(s.value.midwife_id=s.value.midwife_id.user_id);let l={checkup:n.value};re.A.show(),(0,ne.nU)(l).then((l=>{re.A.hide();let a="success"===l.status?0:1;e.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Patient record edited successfully":"Failed to edit patient record"}),"success"===l.status&&(0,ne.zQ)(t.params.record_id,t.params.department).then((e=>{re.A.hide()}))}))},F=()=>{console.log("test"),c.value=!0,d.value=pe.Ay.formatDate(Date.now(),"YYYY-MM-DD"),n.value={prenatal_id:t.params.record_id,temperature:null,blood_pressure_systole:null,blood_pressure_diastole:null,height:null,weight:null,pulse_rate:null,oxygen_sat:null,next_checkup:null,checkup_date:d.value,comments:null,prescription:[]},v.value=n.value.checkup_date.replaceAll("-","/")},C=()=>{re.A.show(),(0,ne.it)(n.value).then((t=>{re.A.hide(),c.value=!1;let l="success"===t.status?0:1;e.notify({type:0===l?"positive":"negative",classes:"text-white",message:0===l?"Prenatal checkup record added successfully":"Failed to add prenatal checkup record"})}))},V=()=>{n.value.prenatal_checkup_id?q():C()},L=()=>{(0,ie.b)(t.params.record_id,t.params.department),(0,ae.o)()};let R=(0,Z.KR)(!1),E=(0,Z.KR)([]);const A=(e,t,l)=>{e.length>3?t((()=>{const t=String(e.toLowerCase());(0,de.XO)(t).then((e=>{if(E.value=[],"success"===e.status){let t=(0,Z.KR)([]);t.value=e.data,t.value.forEach((e=>{let t={medicine_name:e.generic_name+" - "+e.brand_name};E.value.push(t)}))}}))})):l()},S=()=>{n.value.prescription.push({medicine_name:"",quantity:""})},D=e=>{n.value.prescription.splice(e,1)},N=()=>{R.value=!1,0===n.value.prescription.length||""!==n.value.prescription[n.value.prescription.length-1].medicine_name&&""!==n.value.prescription[n.value.prescription.length-1].quantity||D(n.value.prescription.length-1)};return t.params.queue&&F(),{RecordDetails:ne.md,patientRecordInfo:s,editForm:u,editPrenatalRecordFunction:w,cancelFunction:f,userOptions:g,userFilterFunction:_,openDialog:L,prenatal_checkup:n,keySession:i,selectedCheckup:d,checkupDateArray:o,RecordArrays:ne.qd,changeCheckupDate:x,isEditCheckup:c,editPrenatalCheckupFunction:q,addCheckupRecord:F,addPrenatalCheckupFunction:C,submitFunction:V,checkup_date:p,checkup_date_prenatal:v,isPrescription:R,medicineList:E,medicineFilterFunction:A,prescription:r,closePrescription:N,addPrescription:S,removePrescription:D,bmi:m,updateBMI:b,aog:h,edd:k,miscarriageCheck:y}}};var he=l(2968),ke=l(3417),ye=l(1244),ve=l(7328),be=l(9549),xe=l(6067),ge=l(3933),_e=l(8360),fe=l(5626),we=l(6915),qe=l(5460),Fe=l(45),Ce=l(3341),Ve=l(7861),Le=l(8657),Re=l(272),Ee=l.n(Re);const Ae=(0,he.A)(me,[["render",J],["__scopeId","data-v-3473b128"]]),Se=Ae;Ee()(me,"components",{QForm:ke.A,QBtn:ye.A,QCheckbox:ve.A,QSelect:be.A,QInput:xe.A,QIcon:ge.A,QPopupProxy:_e.A,QDate:fe.A,QSeparator:we.A,QScrollArea:qe.A,QDialog:Fe.A,QCard:Ce.A,QField:Ve.A}),Ee()(me,"directives",{ClosePopup:Le.A})}}]);