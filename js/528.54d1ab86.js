"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[528],{5528:(e,l,a)=>{a.r(l),a.d(l,{default:()=>nl});var t=a(1347),d=a(7763);const n={class:"medicine-inventory"},i={class:"flex justify-between items-center q-px-md q-pt-none"},s={class:"flex justify-start items-center"},o={class:"q-px-md"},c={class:"flex justify-between items-center"},r={class:"flex"},u={class:"flex justify-between q-px-sm"},m={class:"flex items-center"},p={class:"q-mt-lg"},b={class:"flex justify-between items-center q-mt-sm"},k={class:"q-mt-lg"},_={class:"flex justify-between items-center q-mt-sm"},g={class:"q-mt-lg"},v={class:"flex justify-between items-center q-mt-sm"},h={class:"flex justify-between items-center q-mt-lg q-mb-md"},f={class:"q-pa-lg"},x={class:"flex justify-end"},y={class:"text-primary text-weight-bold text-24 text-center q-mb-xl"},V={class:"row q-mb-md"},q={class:"col"},F={class:"col"},D={class:"row q-mt-lg q-mb-md"},L={class:"col"},M={class:"col"},R={class:"col"},w={class:"row q-mt-lg q-mb-md"},A={class:"col"},S={class:"col"},C={class:"col"},U={class:"row q-mt-lg q-mb-md"},Y={class:"col"},N={class:"col"},E={class:"col"},I={class:"flex justify-center items-center q-mt-xl q-mb-lg"},W={class:"q-pa-lg"},P={class:"flex justify-end"},K={class:"text-primary text-weight-bold text-24 text-center q-mb-xl"},Q={class:"flex"},T={class:"row q-mt-sm"},B={key:0,class:"col q-mr-md"},O={key:1,class:"col q-mr-md"},j={class:"col-5"},X={key:0},z={class:"q-mb-md"},G={class:"row"},H={key:0,class:"col-1 text-dark",style:{visibility:"hidden"}},$={class:"row q-mb-md"},J={class:"flex justify-start q-mt-lg"},Z={class:"q-mt-md table"},ee={class:"q-pa-lg"},le={class:"flex justify-end"},ae={class:"text-primary text-weight-bold text-24 text-center q-mb-xl"},te={class:"row q-mb-md"},de={class:"col"},ne={class:"col"},ie={class:"col"},se={class:"row q-mt-lg q-mb-md"},oe={class:"col"},ce={class:"col"},re={class:"col"},ue={class:"row q-mt-lg q-mb-md"},me={class:"col"},pe={class:"col"},be={class:"col"},ke={class:"row q-mt-lg q-mb-md"},_e={class:"col"},ge={class:"col"},ve={class:"col"},he={class:"flex justify-center items-center q-mt-xl q-mb-lg"};function fe(e,l,a,fe,xe,ye){const Ve=(0,t.g2)("q-btn"),qe=(0,t.g2)("q-icon"),Fe=(0,t.g2)("q-input"),De=(0,t.g2)("q-select"),Le=(0,t.g2)("q-checkbox"),Me=(0,t.g2)("q-date"),Re=(0,t.g2)("q-popup-proxy"),we=(0,t.g2)("q-card"),Ae=(0,t.g2)("q-dialog"),Se=(0,t.g2)("q-form"),Ce=(0,t.g2)("q-radio"),Ue=(0,t.g2)("q-separator"),Ye=(0,t.g2)("q-td"),Ne=(0,t.g2)("q-item-section"),Ee=(0,t.g2)("q-item"),Ie=(0,t.g2)("q-list"),We=(0,t.g2)("q-menu"),Pe=(0,t.g2)("q-th"),Ke=(0,t.g2)("q-table"),Qe=(0,t.g2)("MHCDialog"),Te=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",i,[(0,t.Lk)("div",s,[(0,t.bF)(Ve,{round:"",outline:"",dense:"",icon:"eva-arrow-back-outline",color:"dark",class:"q-mr-md",onClick:l[0]||(l[0]=l=>e.$router.go(-1))}),l[58]||(l[58]=(0,t.Lk)("h5",{class:"text-dark text-weight-bold"},"MEDICINE INVENTORY",-1))])]),(0,t.Lk)("div",o,[(0,t.Lk)("div",c,[(0,t.Lk)("div",r,[(0,t.bF)(Fe,{outlined:"",dense:"","input-style":{color:"#525252"},modelValue:e.searchString,"onUpdate:modelValue":l[1]||(l[1]=l=>e.searchString=l)},{prepend:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"mdi-account-search-outline"})])),_:1},8,["modelValue"]),(0,t.bF)(De,{modelValue:e.selectedSearchBy,"onUpdate:modelValue":l[2]||(l[2]=l=>e.selectedSearchBy=l),options:e.searchBy,outlined:"",dense:"",label:"Search By:",class:"mhc-select-200"},null,8,["modelValue","options"]),(0,t.bF)(Ve,{outline:"",label:"Filters","no-caps":"","icon-right":"eva-funnel-outline",color:"primary",class:"q-mx-lg button-120",onClick:l[20]||(l[20]=l=>e.showFilterModal=!0)},{default:(0,t.k6)((()=>[(0,t.bF)(Ae,{modelValue:e.showFilterModal,"onUpdate:modelValue":l[19]||(l[19]=l=>e.showFilterModal=l)},{default:(0,t.k6)((()=>[(0,t.bF)(we,{class:"width-450 dialog-card q-pa-lg"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",u,[(0,t.Lk)("div",null,[l[59]||(l[59]=(0,t.Lk)("label",{class:"text-primary text-weight-bold q-mb-sm"}," In Stock ",-1)),(0,t.Lk)("div",m,[(0,t.bF)(Fe,{dense:"",mask:"######",outlined:"",hint:"From",class:"q-mr-sm",style:{width:"5rem"},modelValue:e.inStock[0],"onUpdate:modelValue":l[3]||(l[3]=l=>e.inStock[0]=l),rules:[e=>0===e||e&&!isNaN(e)||""]},null,8,["modelValue","rules"]),(0,t.bF)(Fe,{dense:"",mask:"######",outlined:"",hint:"To",class:"q-ml-sm",style:{width:"5rem"},modelValue:e.inStock[1],"onUpdate:modelValue":l[4]||(l[4]=l=>e.inStock[1]=l),rules:[l=>0===l||l&&!isNaN(l)&&l>=e.inStock[0]||""]},null,8,["modelValue","rules"])])]),(0,t.Lk)("div",null,[l[60]||(l[60]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Status ",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.statusList,((a,d)=>((0,t.uX)(),(0,t.CE)("div",{key:d},[(0,t.bF)(Le,{modelValue:e.status_array_model,"onUpdate:modelValue":l[5]||(l[5]=l=>e.status_array_model=l),val:d,label:a,class:"text-dark"},null,8,["modelValue","val","label"])])))),128))])]),(0,t.Lk)("div",p,[l[64]||(l[64]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Manufacturing Date",-1)),(0,t.Lk)("div",b,[(0,t.bF)(Fe,{readonly:"",dense:"",outlined:"",hint:"From",class:"width-150",modelValue:e.mfgDate[0],"onUpdate:modelValue":l[7]||(l[7]=l=>e.mfgDate[0]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:e.mfgDate[0],"onUpdate:modelValue":l[6]||(l[6]=l=>e.mfgDate[0]=l),options:e=>e<=(new Date).toISOString().split("T")[0].replaceAll("-","/")},{default:(0,t.k6)((()=>[l[61]||(l[61]=(0,t.Lk)("template",null,null,-1)),(0,t.bo)((0,t.bF)(Ve,{label:"done",dense:"",color:"primary"},null,512),[[Te]])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),l[63]||(l[63]=(0,t.Lk)("div",{class:"line"},null,-1)),(0,t.bF)(Fe,{readonly:"",dense:"",outlined:"",hint:"To",class:"width-150",modelValue:e.mfgDate[1],"onUpdate:modelValue":l[9]||(l[9]=l=>e.mfgDate[1]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:e.mfgDate[1],"onUpdate:modelValue":l[8]||(l[8]=l=>e.mfgDate[1]=l),options:l=>l>=e.mfgDate[0]&&l<=(new Date).toISOString().split("T")[0].replaceAll("-","/")},{default:(0,t.k6)((()=>[l[62]||(l[62]=(0,t.Lk)("template",null,null,-1)),(0,t.bo)((0,t.bF)(Ve,{label:"done",dense:"",color:"primary"},null,512),[[Te]])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,t.Lk)("div",k,[l[68]||(l[68]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Expiry Date",-1)),(0,t.Lk)("div",_,[(0,t.bF)(Fe,{readonly:"",dense:"",outlined:"",hint:"From",class:"width-150",modelValue:e.expDate[0],"onUpdate:modelValue":l[11]||(l[11]=l=>e.expDate[0]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:e.expDate[0],"onUpdate:modelValue":l[10]||(l[10]=l=>e.expDate[0]=l)},{default:(0,t.k6)((()=>[l[65]||(l[65]=(0,t.Lk)("template",null,null,-1)),(0,t.bo)((0,t.bF)(Ve,{label:"done",dense:"",color:"primary"},null,512),[[Te]])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),l[67]||(l[67]=(0,t.Lk)("div",{class:"line"},null,-1)),(0,t.bF)(Fe,{readonly:"",dense:"",outlined:"",hint:"To",class:"width-150",modelValue:e.expDate[1],"onUpdate:modelValue":l[13]||(l[13]=l=>e.expDate[1]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:e.expDate[1],"onUpdate:modelValue":l[12]||(l[12]=l=>e.expDate[1]=l),options:l=>l>=e.expDate[0]},{default:(0,t.k6)((()=>[l[66]||(l[66]=(0,t.Lk)("template",null,null,-1)),(0,t.bo)((0,t.bF)(Ve,{label:"done",dense:"",color:"primary"},null,512),[[Te]])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,t.Lk)("div",g,[l[72]||(l[72]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Date Added",-1)),(0,t.Lk)("div",v,[(0,t.bF)(Fe,{readonly:"",dense:"",outlined:"",hint:"From",class:"width-150",modelValue:e.dateAdded[0],"onUpdate:modelValue":l[15]||(l[15]=l=>e.dateAdded[0]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:e.dateAdded[0],"onUpdate:modelValue":l[14]||(l[14]=l=>e.dateAdded[0]=l),options:e=>e<=(new Date).toISOString().split("T")[0].replaceAll("-","/")},{default:(0,t.k6)((()=>[l[69]||(l[69]=(0,t.Lk)("template",null,null,-1)),(0,t.bo)((0,t.bF)(Ve,{label:"done",dense:"",color:"primary"},null,512),[[Te]])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),l[71]||(l[71]=(0,t.Lk)("div",{class:"line"},null,-1)),(0,t.bF)(Fe,{readonly:"",dense:"",outlined:"",hint:"To",class:"width-150",modelValue:e.dateAdded[1],"onUpdate:modelValue":l[17]||(l[17]=l=>e.dateAdded[1]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{modelValue:e.dateAdded[1],"onUpdate:modelValue":l[16]||(l[16]=l=>e.dateAdded[1]=l),options:l=>l>=e.dateAdded[0]&&l<=(new Date).toISOString().split("T")[0].replaceAll("-","/")},{default:(0,t.k6)((()=>[l[70]||(l[70]=(0,t.Lk)("template",null,null,-1)),(0,t.bo)((0,t.bF)(Ve,{label:"done",dense:"",color:"primary"},null,512),[[Te]])])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,t.Lk)("div",h,[(0,t.bF)(Ve,{outline:"",color:"primary",label:"Reset","no-caps":"",class:"button-80",onClick:e.resetFilter},null,8,["onClick"]),(0,t.bF)(Ve,{dense:"",color:"primary",label:"Done","no-caps":"",class:"button-80",onClick:l[18]||(l[18]=l=>e.showFilterModal=!e.showFilterModal)})])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(Ve,{color:"primary",label:"Search","no-caps":"","icon-right":"eva-search-outline",class:"button-120",onClick:e.getRecords},null,8,["onClick"])]),(0,t.bF)(Ae,{modelValue:e.isAddNewMedicineStock,"onUpdate:modelValue":l[34]||(l[34]=l=>e.isAddNewMedicineStock=l),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(we,{style:{"min-width":"750px"}},{default:(0,t.k6)((()=>[(0,t.Lk)("div",f,[(0,t.Lk)("div",x,[(0,t.bo)((0,t.bF)(Ve,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline"},null,512),[[Te]])]),(0,t.Lk)("p",y,[(0,t.bF)(qe,{name:"bi-capsule-pill",class:"q-mr-xs q-gutter-xs"}),l[73]||(l[73]=(0,t.eW)(" ADD MEDICINE RECORD "))]),(0,t.bF)(Se,{onSubmit:e.addMedicineRecord,onReset:e.onReset},{default:(0,t.k6)((()=>[(0,t.Lk)("div",V,[(0,t.Lk)("div",q,[l[74]||(l[74]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Generic Name "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Paracetamol",class:"q-mr-md q-mt-xs",modelValue:e.newMedicineRecord.generic_name,"onUpdate:modelValue":l[21]||(l[21]=l=>e.newMedicineRecord.generic_name=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",F,[l[75]||(l[75]=(0,t.Lk)("label",{class:"text-dark"},"Brand Name",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Biogesic",class:"q-mt-xs",modelValue:e.newMedicineRecord.brand_name,"onUpdate:modelValue":l[22]||(l[22]=l=>e.newMedicineRecord.brand_name=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",D,[(0,t.Lk)("div",L,[l[76]||(l[76]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Therapeutic Classification "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Analgesic",class:"q-mt-xs q-mr-md",modelValue:e.newMedicineRecord.med_classification,"onUpdate:modelValue":l[23]||(l[23]=l=>e.newMedicineRecord.med_classification=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",M,[l[77]||(l[77]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Manufacturing Date "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",readonly:"",outlined:"",placeholder:"YYYY-MM-DD",class:"q-mt-xs q-mr-md",modelValue:e.newMedicineRecord.mfg_date,"onUpdate:modelValue":l[25]||(l[25]=l=>e.newMedicineRecord.mfg_date=l),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{mask:"YYYY-MM-DD",modelValue:e.newMedicineRecord.mfg_date,"onUpdate:modelValue":l[24]||(l[24]=l=>e.newMedicineRecord.mfg_date=l),options:e=>e<=(new Date).toISOString().split("T")[0].replaceAll("-","/")},null,8,["modelValue","options"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t.Lk)("div",R,[l[78]||(l[78]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Expiry Date "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",readonly:"",outlined:"",placeholder:"YYYY-MM-DD",class:"q-mt-xs",modelValue:e.newMedicineRecord.exp_date,"onUpdate:modelValue":l[27]||(l[27]=l=>e.newMedicineRecord.exp_date=l),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{mask:"YYYY-MM-DD",label:"YYYY-MM-DD",modelValue:e.newMedicineRecord.exp_date,"onUpdate:modelValue":l[26]||(l[26]=l=>e.newMedicineRecord.exp_date=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])]),(0,t.Lk)("div",w,[(0,t.Lk)("div",A,[l[79]||(l[79]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Quantity Received "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",mask:"######",outlined:"",placeholder:"ex. 350",class:"q-mr-md q-mt-xs",modelValue:e.newMedicineRecord.quantity,"onUpdate:modelValue":l[28]||(l[28]=l=>e.newMedicineRecord.quantity=l),rules:[e=>0===e||e&&!isNaN(e)||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",S,[l[80]||(l[80]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Dosage Form "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Tablet",class:"q-mt-xs q-mr-md",modelValue:e.newMedicineRecord.dosage_form,"onUpdate:modelValue":l[29]||(l[29]=l=>e.newMedicineRecord.dosage_form=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",C,[l[81]||(l[81]=(0,t.Lk)("label",{class:"text-dark"},"Dosage Strength",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 500mg",class:"q-mt-xs",modelValue:e.newMedicineRecord.dosage_strength,"onUpdate:modelValue":l[30]||(l[30]=l=>e.newMedicineRecord.dosage_strength=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",U,[(0,t.Lk)("div",Y,[l[82]||(l[82]=(0,t.Lk)("label",{class:"text-dark"},"Batch/Lot Number",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 13-08-713",class:"q-mr-md q-mt-xs",modelValue:e.newMedicineRecord.batch_lot_number,"onUpdate:modelValue":l[31]||(l[31]=l=>e.newMedicineRecord.batch_lot_number=l)},null,8,["modelValue"])]),(0,t.Lk)("div",N,[l[83]||(l[83]=(0,t.Lk)("label",{class:"text-dark"},"PTR Number",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 22-11-2101",class:"q-mt-xs q-mr-md",modelValue:e.newMedicineRecord.ptr_number,"onUpdate:modelValue":l[32]||(l[32]=l=>e.newMedicineRecord.ptr_number=l)},null,8,["modelValue"])]),(0,t.Lk)("div",E,[l[84]||(l[84]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Source "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. DOH",class:"q-mt-xs",modelValue:e.newMedicineRecord.procured_by,"onUpdate:modelValue":l[33]||(l[33]=l=>e.newMedicineRecord.procured_by=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,t.Lk)("div",I,[(0,t.bF)(Ve,{color:"primary",label:"Submit",type:"submit","no-caps":"",class:"button-120 q-mr-xl"}),(0,t.bF)(Ve,{outline:"",color:"primary",label:"Reset",type:"reset","no-caps":"",class:"button-120"})])])),_:1},8,["onSubmit","onReset"])])])),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(Ae,{modelValue:e.isMedicineRelease,"onUpdate:modelValue":l[40]||(l[40]=l=>e.isMedicineRelease=l),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(we,{style:{"min-width":"500px","max-width":"750px"}},{default:(0,t.k6)((()=>[(0,t.Lk)("div",W,[(0,t.Lk)("div",P,[(0,t.bo)((0,t.bF)(Ve,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline"},null,512),[[Te]])]),(0,t.Lk)("p",K,[(0,t.bF)(qe,{name:"volunteer_activism",class:"q-mr-xs q-gutter-xs"}),l[85]||(l[85]=(0,t.eW)(" RELEASE MEDICINES "))]),(0,t.bF)(Se,{onSubmit:e.addMedicineReleases},{default:(0,t.k6)((()=>[(0,t.Lk)("div",Q,[(0,t.bF)(Ce,{modelValue:e.patientDoctor,"onUpdate:modelValue":[l[35]||(l[35]=l=>e.patientDoctor=l),e.changePatientDoctor],"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"Patient",label:"Patient"},null,8,["modelValue","onUpdate:modelValue"]),(0,t.bF)(Ce,{modelValue:e.patientDoctor,"onUpdate:modelValue":[l[36]||(l[36]=l=>e.patientDoctor=l),e.changePatientDoctor],"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"Personnel",label:"Personnel"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t.Lk)("div",T,["Patient"===e.patientDoctor?((0,t.uX)(),(0,t.CE)("div",B,[l[86]||(l[86]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Patient ID "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(De,{outlined:"","hide-bottom-space":"",modelValue:e.patient_id,"onUpdate:modelValue":l[37]||(l[37]=l=>e.patient_id=l),onFilter:e.patientFilterFunction,"option-label":"patient_name","option-value":"patient_id",options:e.patientOptions,"use-input":"","emit-value":"","map-options":"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",rules:[e=>e&&(e.length>0||!isNaN(e))||"Required field"]},null,8,["modelValue","onFilter","options","rules"])])):((0,t.uX)(),(0,t.CE)("div",O,[l[87]||(l[87]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Personnel ID "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(De,{outlined:"","hide-bottom-space":"",modelValue:e.doctor_id,"onUpdate:modelValue":[l[38]||(l[38]=l=>e.doctor_id=l),e.findDepartment],onFilter:e.userFilterFunction,"option-label":"user_name","option-value":"user_id",options:e.userOptions,"use-input":"","emit-value":"","map-options":"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",rules:[e=>e&&(e.length>0||!isNaN(e))||"Required field"]},null,8,["modelValue","onFilter","options","rules","onUpdate:modelValue"])])),(0,t.Lk)("div",j,[l[88]||(l[88]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Department "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(De,{"hide-bottom-space":"",disable:"Patient"!==e.patientDoctor,options:e.filtersDepartment,dense:"",outlined:"",modelValue:e.selectedDepartment,"onUpdate:modelValue":l[39]||(l[39]=l=>e.selectedDepartment=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["disable","options","modelValue","rules"])])]),(0,t.bF)(Ue,{class:"q-my-md",color:"primary"}),(e.patient_id||e.doctor_id)&&e.selectedDepartment?((0,t.uX)(),(0,t.CE)("div",X,[(0,t.Lk)("div",z,[0===e.medicineArray.length||e.btnCondition?((0,t.uX)(),(0,t.Wv)(Ve,{key:0,label:"Add",icon:"add_circle",color:"primary",outline:"","no-caps":"",onClick:e.addMedicine},null,8,["onClick"])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",G,[l[89]||(l[89]=(0,t.Lk)("label",{class:"col text-dark text-bold q-mr-md"},"Medicine Name",-1)),l[90]||(l[90]=(0,t.Lk)("label",{class:"col-2 text-dark text-bold q-mr-md"},"Quantity",-1)),e.medicineArray.length>1?((0,t.uX)(),(0,t.CE)("label",H,"Quantity")):(0,t.Q3)("",!0)]),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.medicineArray,((l,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a},[(0,t.Lk)("div",$,[(0,t.bF)(De,{modelValue:l.medicine_details,"onUpdate:modelValue":[e=>l.medicine_details=e,l=>e.buttonCondition(a)],dense:"",outlined:"",options:e.medicineList,onFilter:e.medicineFilterFunction,"option-label":"medicine_name","option-value":"medicine_id","use-input":"","emit-value":"","map-options":"","new-value-mode":"add-unique",class:"col q-mr-md"},null,8,["modelValue","onUpdate:modelValue","options","onFilter"]),(0,t.bF)(Fe,{dense:"",outlined:"",class:"col-2 q-mr-md","input-class":"text-dark",modelValue:l.quantity,"onUpdate:modelValue":[e=>l.quantity=e,l=>e.buttonCondition(a)],mask:"######","hide-bottom-space":"",rules:[e=>!isNaN(e)||"Numbers only"]},null,8,["modelValue","onUpdate:modelValue","rules"]),e.medicineArray.length>1?((0,t.uX)(),(0,t.Wv)(qe,{key:0,name:"delete",color:"negative",class:"col-1 cursor-pointer",size:"30px",onClick:l=>e.removeMedicine(a)},null,8,["onClick"])):(0,t.Q3)("",!0)])])))),128)),(0,t.Lk)("div",null,[e.medicineArray.length>0&&e.btnCondition?((0,t.uX)(),(0,t.Wv)(Ve,{key:0,label:"Submit",type:"submit","no-caps":"",color:"primary"})):(0,t.Q3)("",!0)])])):(0,t.Q3)("",!0)])),_:1},8,["onSubmit"])])])),_:1})])),_:1},8,["modelValue"])]),(0,t.Lk)("div",J,[e.keySession&&4===e.keySession.department&&3!==e.keySession.permission_level?((0,t.uX)(),(0,t.Wv)(Ve,{key:0,onClick:l[41]||(l[41]=l=>e.isAddNewMedicineStock=!0),outline:"",label:"Add Medicine","icon-right":"bi-capsule-pill","no-caps":"",color:"primary",class:"q-mr-xs"})):(0,t.Q3)("",!0),e.keySession&&4===e.keySession.department&&3!==e.keySession.permission_level?((0,t.uX)(),(0,t.Wv)(Ve,{key:1,onClick:l[42]||(l[42]=l=>e.isMedicineRelease=!0),outline:"",label:"Release Medicines","icon-right":"volunteer_activism","no-caps":"",color:"primary",class:"q-ml-xs"})):(0,t.Q3)("",!0)]),(0,t.Lk)("div",Z,[(0,t.bF)(Ke,{columns:e.columns,rows:e.MedicinesList,pagination:{rowsPerPage:10},"rows-per-page-options":[5,10,15,20,0],flat:"",dense:"",class:"mhc-table"},{"body-cell-in_stock":(0,t.k6)((e=>[(0,t.bF)(Ye,{props:e,style:(0,d.Tr)(e.row.quantity-e.row.quantity_released<=100?"color: red":"")},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(e.row.quantity-e.row.quantity_released),1)])),_:2},1032,["props","style"])])),"body-cell-exp_date":(0,t.k6)((l=>[(0,t.bF)(Ye,{props:l,class:(0,d.C4)(e.getExpDateClass(l.row))},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(l.row.exp_date),1)])),_:2},1032,["props","class"])])),"body-cell-action":(0,t.k6)((a=>[(0,t.bF)(Ye,{props:a},{default:(0,t.k6)((()=>[(0,t.bF)(Ve,{dense:"",color:"primary",label:"Action","icon-right":"more_vert","no-caps":"",unelevated:"",class:"button-100 action-btn"},{default:(0,t.k6)((()=>[(0,t.bF)(We,{"transition-show":"jump-down","transition-hide":"jump-up",class:"width-200"},{default:(0,t.k6)((()=>[(0,t.bF)(Ie,{separator:"",dense:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ee,{clickable:"",class:"drop-list",onClick:l=>e.$router.push({name:"medicine-inventory-details",params:{medicine_id:a.row.medicine_id}})},{default:(0,t.k6)((()=>[(0,t.bF)(Ne,null,{default:(0,t.k6)((()=>l[91]||(l[91]=[(0,t.eW)("View Details")]))),_:1}),(0,t.bF)(Ne,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(qe,{size:"xs",name:"eva-eye-outline"})])),_:1})])),_:2},1032,["onClick"]),e.keySession&&4===e.keySession.department&&3!==e.keySession.permission_level?((0,t.uX)(),(0,t.Wv)(Ee,{key:0,clickable:"",class:"drop-list",onClick:l=>e.editRecordModal(a.row)},{default:(0,t.k6)((()=>[(0,t.bF)(Ne,null,{default:(0,t.k6)((()=>l[92]||(l[92]=[(0,t.eW)("Edit Details")]))),_:1}),(0,t.bF)(Ne,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(qe,{size:"xs",name:"eva-edit-outline"})])),_:1})])),_:2},1032,["onClick"])):(0,t.Q3)("",!0),e.keySession&&4===e.keySession.department&&3!==e.keySession.permission_level?((0,t.uX)(),(0,t.Wv)(Ee,{key:1,clickable:"",class:"drop-list-delete",onClick:l=>e.openDialog(a.row.medicine_id)},{default:(0,t.k6)((()=>[(0,t.bF)(Ne,null,{default:(0,t.k6)((()=>l[93]||(l[93]=[(0,t.eW)("Delete Record")]))),_:1}),(0,t.bF)(Ne,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(qe,{size:"xs",name:"eva-trash-2-outline"})])),_:1})])),_:2},1032,["onClick"])):(0,t.Q3)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"header-cell-action":(0,t.k6)((l=>[(0,t.bF)(Pe,{props:l},{default:(0,t.k6)((()=>[(0,t.bF)(Ve,{dense:"",label:"Download","icon-right":"eva-download-outline","no-caps":"",color:"primary",unelevated:"",class:"button-100 download-btn",disable:!e.MedicinesList||!e.MedicinesList[0],onClick:e.exportTable},null,8,["disable","onClick"])])),_:2},1032,["props"])])),_:1},8,["columns","rows"])]),(0,t.bF)(Ae,{modelValue:e.isEditMedicineStock,"onUpdate:modelValue":l[57]||(l[57]=l=>e.isEditMedicineStock=l),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(we,{style:{"min-width":"750px"}},{default:(0,t.k6)((()=>[(0,t.Lk)("div",ee,[(0,t.Lk)("div",le,[(0,t.bo)((0,t.bF)(Ve,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline"},null,512),[[Te]])]),(0,t.Lk)("p",ae,[(0,t.bF)(qe,{name:"bi-capsule-pill",class:"q-mr-xs q-gutter-xs"}),l[94]||(l[94]=(0,t.eW)(" EDIT MEDICINE RECORD "))]),(0,t.bF)(Se,{onSubmit:e.editMedicine},{default:(0,t.k6)((()=>[(0,t.Lk)("div",te,[(0,t.Lk)("div",de,[l[95]||(l[95]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Medicine ID "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",disable:"",class:"q-mr-md q-mt-xs bg-grey-4",modelValue:e.editMedicineRecord.medicine_id,"onUpdate:modelValue":l[43]||(l[43]=l=>e.editMedicineRecord.medicine_id=l)},null,8,["modelValue"])]),(0,t.Lk)("div",ne,[l[96]||(l[96]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Generic Name "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Paracetamol",class:"q-mr-md q-mt-xs",modelValue:e.editMedicineRecord.generic_name,"onUpdate:modelValue":l[44]||(l[44]=l=>e.editMedicineRecord.generic_name=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",ie,[l[97]||(l[97]=(0,t.Lk)("label",{class:"text-dark"},"Brand Name",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Biogesic",class:"q-mt-xs",modelValue:e.editMedicineRecord.brand_name,"onUpdate:modelValue":l[45]||(l[45]=l=>e.editMedicineRecord.brand_name=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",se,[(0,t.Lk)("div",oe,[l[98]||(l[98]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Therapeutic Classification "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Analgesic",class:"q-mt-xs q-mr-md",modelValue:e.editMedicineRecord.med_classification,"onUpdate:modelValue":l[46]||(l[46]=l=>e.editMedicineRecord.med_classification=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",ce,[l[99]||(l[99]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Manufacturing Date "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"YYYY-MM-DD",class:"q-mt-xs q-mr-md",modelValue:e.editMedicineRecord.mfg_date,"onUpdate:modelValue":l[48]||(l[48]=l=>e.editMedicineRecord.mfg_date=l),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{mask:"YYYY-MM-DD",label:"YYYY-MM-DD",modelValue:e.editMedicineRecord.mfg_date,"onUpdate:modelValue":l[47]||(l[47]=l=>e.editMedicineRecord.mfg_date=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t.Lk)("div",re,[l[100]||(l[100]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Expiry Date "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"YYYY-MM-DD",class:"q-mt-xs",modelValue:e.editMedicineRecord.exp_date,"onUpdate:modelValue":l[50]||(l[50]=l=>e.editMedicineRecord.exp_date=l),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,t.k6)((()=>[(0,t.bF)(qe,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(Re,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(Me,{mask:"YYYY-MM-DD",label:"YYYY-MM-DD",modelValue:e.editMedicineRecord.exp_date,"onUpdate:modelValue":l[49]||(l[49]=l=>e.editMedicineRecord.exp_date=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])]),(0,t.Lk)("div",ue,[(0,t.Lk)("div",me,[l[101]||(l[101]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Quantity Received "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 350",class:"q-mr-md q-mt-xs",modelValue:e.editMedicineRecord.quantity,"onUpdate:modelValue":l[51]||(l[51]=l=>e.editMedicineRecord.quantity=l),rules:[e=>!isNaN(e)||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",pe,[l[102]||(l[102]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Dosage Form "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. Tablet",class:"q-mt-xs q-mr-md",modelValue:e.editMedicineRecord.dosage_form,"onUpdate:modelValue":l[52]||(l[52]=l=>e.editMedicineRecord.dosage_form=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",be,[l[103]||(l[103]=(0,t.Lk)("label",{class:"text-dark"},"Dosage Strength",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 500mg",class:"q-mt-xs",modelValue:e.editMedicineRecord.dosage_strength,"onUpdate:modelValue":l[53]||(l[53]=l=>e.editMedicineRecord.dosage_strength=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,t.Lk)("div",ke,[(0,t.Lk)("div",_e,[l[104]||(l[104]=(0,t.Lk)("label",{class:"text-dark"},"Batch/Lot Number",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 13-08-713",class:"q-mr-md q-mt-xs",modelValue:e.editMedicineRecord.batch_lot_number,"onUpdate:modelValue":l[54]||(l[54]=l=>e.editMedicineRecord.batch_lot_number=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",ge,[l[105]||(l[105]=(0,t.Lk)("label",{class:"text-dark"},"PTR Number",-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. 22-11-2101",class:"q-mt-xs q-mr-md",modelValue:e.editMedicineRecord.ptr_number,"onUpdate:modelValue":l[55]||(l[55]=l=>e.editMedicineRecord.ptr_number=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",ve,[l[106]||(l[106]=(0,t.Lk)("label",{class:"text-dark"},[(0,t.eW)("Source "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Fe,{dense:"",outlined:"",placeholder:"ex. DOH",class:"q-mt-xs",modelValue:e.editMedicineRecord.procured_by,"onUpdate:modelValue":l[56]||(l[56]=l=>e.editMedicineRecord.procured_by=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,t.Lk)("div",he,[(0,t.bF)(Ve,{color:"primary",label:"Submit",type:"submit","no-caps":"",class:"button-120 q-mr-xl"})])])),_:1},8,["onSubmit"])])])),_:1})])),_:1},8,["modelValue"])]),(0,t.bF)(Qe,{content:e.$options.components.DeleteMedicineConfirmation},null,8,["content"])])}a(939),a(4520),a(7049);var xe=a(4187),ye=a(3022),Ve=a(8564),qe=a(891),Fe=a(3328),De=a(4202),Le=a(8822),Me=a(1408),Re=a(5278),we=a(6091),Ae=a(662),Se=a(2222),Ce=a(1497);const Ue={components:{MHCDialog:Ae.A,DeleteMedicineConfirmation:Re.A},setup(){const e=(0,ye.A)();let l=Fe.A.getItem("cred");null===l&&router.push({name:"login"}),De.Gv.value=[];const a=(0,xe.KR)([{name:"id",align:"left",label:"ID",field:"medicine_id",sortable:!0},{name:"generic_name",align:"left",label:"Generic Name",field:"generic_name",sortable:!0},{name:"brand_name",align:"left",label:"Brand Name",field:"brand_name",sortable:!0},{name:"med_classification",align:"left",label:"Classification",field:"med_classification",sortable:!0},{name:"dosage_strength",align:"left",label:"Dosage Strength",field:"dosage_strength",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"dosage_form",align:"left",label:"Dosage Form",field:"dosage_form",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"ptr_number",align:"left",label:"PTR Number",field:"ptr_number",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"batch_lot_number",align:"left",label:"Batch/Lot Number",field:"batch_lot_number",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"mfg_date",align:"left",label:"Mfg Date",field:"mfg_date",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"exp_date",align:"left",label:"Exp Date",field:"exp_date",sortable:!0},{name:"quantity",align:"left",label:"Received",field:"quantity",sortable:!0},{name:"in_stock",align:"left",label:"In Stock",field:e=>e.quantity-e.quantity_released,sortable:!0},{name:"procured_by",align:"left",label:"Procured By",field:"procured_by",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"date_added",align:"left",label:"Date Added",field:"date_added",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"added_by",align:"left",label:"Added By",field:"added_by",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"status",align:"left",label:"Status",field:"status",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"action",align:"left",label:"",field:"action"}]);let t=qe.Ay.formatDate(Date.now(),"YYYY-MM-DD");const d=e=>{const l=864e5,a=Math.round((new Date(e.exp_date)-new Date(t))/l);return a<=100?"text-red":""};let n=(0,xe.KR)(!1),i=(0,xe.KR)(!1),s=(0,xe.KR)("Medicine ID"),o=(0,xe.KR)(["Medicine ID","Generic Name","Brand Name","Classification","Dosage Strength","Dosage Form","PTR Number","Batch/Lot Number","Procured By"]),c=(0,xe.KR)(null),r=(0,xe.KR)([0,1e3]),u=["Active","Deleted"],m=(0,xe.KR)([0]),p=(0,xe.KR)([]),b=(0,xe.KR)([]),k=(0,xe.KR)([]);const _=()=>{m.value=[0],p.value=[],b.value=[],k.value=[],r.value=[0,1e3]},g=()=>{let e={search_by:{search_category:s.value,search_string:c.value},filter:{in_stock:r.value,status:m.value,mfg_date:p.value,exp_date:b.value,date_added:k.value}};Ve.A.show(),(0,De.Mj)(e).then((e=>{Ve.A.hide()}))};g();let v=(0,xe.KR)({generic_name:null,brand_name:null,med_classification:null,mfg_date:null,exp_date:null,quantity:null,dosage_form:null,dosage_strength:null,batch_lot_number:null,ptr_number:null,procured_by:null,date_added:qe.Ay.formatDate(new Date,"YYYY-MM-DD"),added_by:l&&l.user_id,status:0});const h=()=>{Ve.A.show(),(0,De.ao)(v.value).then((l=>{Ve.A.hide(),i.value=!1;let a="success"===l.status?0:1;e.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Medicine record added successfully":"Failed to add medicine record"}),f()}))},f=()=>{v.value={generic_name:null,brand_name:null,med_classification:null,mfg_date:null,exp_date:null,quantity:null,dosage_form:null,dosage_strength:null,batch_lot_number:null,ptr_number:null,procured_by:null,date_added:qe.Ay.formatDate(new Date,"YYYY-MM-DD"),added_by:l&&l.user_id,status:0}};let x=(0,xe.KR)(!1),y=(0,xe.KR)({generic_name:null,brand_name:null,med_classification:null,mfg_date:null,exp_date:null,quantity:null,dosage_form:null,dosage_strength:null,batch_lot_number:null,ptr_number:null,procured_by:null,date_added:qe.Ay.formatDate(new Date,"YYYY-MM-DD"),added_by:l&&l.user_id,status:0});const V=e=>{x.value=!0,y.value={medicine_id:e.medicine_id,generic_name:e.generic_name,brand_name:e.brand_name,med_classification:e.med_classification,mfg_date:e.mfg_date,exp_date:e.exp_date,quantity:e.quantity,dosage_form:e.dosage_form,dosage_strength:e.dosage_strength,batch_lot_number:e.batch_lot_number,ptr_number:e.ptr_number,procured_by:e.procured_by,date_added:e.date_added,added_by:e.added_by,status:0}},q=()=>{Ve.A.show(),(0,De.B8)(y.value).then((l=>{Ve.A.hide(),x.value=!1;let a="success"===l.status?0:1;e.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Medicine record edited successfully":"Failed to edit medicine record"})}))},F=e=>{(0,Se.b)(e),(0,we.o)()},D=(e,l,a)=>{let t=void 0!==l?l(e,a):e;return t=void 0===t||null===t?"":String(t),t=t.split('"').join('""'),`"${t}"`},L=()=>{const l=[a.value.map((e=>D(e.label)))].concat(De.Uo.value.map((e=>a.value.map((l=>D("function"===typeof l.field?l.field(e):e[void 0===l.field?l.name:l.field],l.format,e))).join(",")))).join("\r\n"),t=(0,Ce.A)("Medicine Records.csv",l,"text/csv");!0!==t&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})};let M=(0,xe.KR)(!1),R=(0,xe.KR)("Patient"),w=(0,xe.KR)(null),A=(0,xe.KR)(null),S=(0,xe.KR)(null),C=(0,xe.KR)([]);"Patient"===R.value?C.value=["Outpatient Department","Dental","Prenatal and Immunization"]:C.value=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"];const U=()=>{w.value=null,A.value=null,S.value=null,"Patient"===R.value?C.value=["Outpatient Department","Dental","Prenatal","Immunization"]:C.value=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"]};let Y=(0,xe.KR)(!0);const N=e=>{try{null!==E.value[e].medicine_details.medicine_id&&""!==E.value[e].medicine_details.medicine_id&&null!==E.value[e].quantity&&""!==E.value[e].quantity&&(Y.value=!0)}catch(e){Y.value=!1}};let E=(0,xe.KR)([]);const I=()=>{E.value.push({medicine_details:{medicine_name:null,medicine_id:null},quantity:null})},W=e=>{E.value.splice(e,1)};let P=(0,xe.KR)([]);const K=(e,l,a)=>{e.length>3?l((()=>{const l=String(e.toLowerCase());(0,De.Nn)(l).then((e=>{if(P.value=[],"success"===e.status){let l=(0,xe.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={medicine_name:e.generic_name+" - "+e.brand_name+" ("+e.exp_date+") ("+(e.quantity-e.quantity_released)+")",medicine_id:e.medicine_id};P.value.push(l)}))}}))})):a()};let Q=(0,xe.KR)([]);const T=(e,l,a)=>{e&&(e.length>5||!isNaN(e))?l((()=>{if(isNaN(e)){const l=String(e.toLowerCase());(0,Me.qi)({name_string:l}).then((e=>{if(Q.value=[],"success"===e.status){let l=(0,xe.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={patient_name:e.patient_id+" - "+e.name,patient_id:e.patient_id};Q.value.push(l)}))}}))}else(0,Me.qi)({id_string:e}).then((e=>{if(Q.value=[],"success"===e.status){let l=(0,xe.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={patient_name:e.patient_id+" - "+e.name,patient_id:e.patient_id};Q.value.push(l)}))}}))})):a()};let B=(0,xe.KR)([]);const O=(e,l,a)=>{e.length>5||!isNaN(e)?l((()=>{if(isNaN(e)){const l=String(e.toLowerCase());(0,Le.i4)(l).then((e=>{if(B.value=[],"success"===e.status){let l=(0,xe.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={user_name:e.id+" - "+e.user_name,department:e.department,user_id:e.id};B.value.push(l)}))}}))}else(0,Le.Wh)(e).then((e=>{if(B.value=[],"success"===e.status){let l=(0,xe.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={user_name:e.id+" - "+e.user_name,department:e.department,user_id:e.id};B.value.push(l)}))}}))})):a()},j=()=>{null!==A.value?(0,Le.ol)(A.value).then((e=>{S.value=C.value[e.data[0].department-1]})):S.value=null},X=()=>{let a={patient_id:w.value,doctor_id:A.value,department:C.value.indexOf(S.value)+1,released_by:l&&l.user_id,medicine_array:E.value};Ve.A.show(),(0,De.rf)(a).then((l=>{Ve.A.hide(),M.value=!1;let a="success"===l.status?0:1;e.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Medicine releases added successfully":"Failed to add medicine releases"}),w.value=null,A.value=null,S.value=null,E.value=[],g()}))};return{selectedSearchBy:s,searchBy:o,searchString:c,columns:a,showFilterModal:n,isAddNewMedicineStock:i,statusList:u,status_array_model:m,mfgDate:p,expDate:b,dateAdded:k,inStock:r,getRecords:g,MedicinesList:De.Uo,newMedicineRecord:v,addMedicineRecord:h,onReset:f,openDialog:F,isEditMedicineStock:x,editRecordModal:V,editMedicineRecord:y,editMedicine:q,exportTable:L,keySession:l,dateToday:t,getExpDateClass:d,isMedicineRelease:M,medicineArray:E,medicineList:P,medicineFilterFunction:K,addMedicine:I,removeMedicine:W,patientDoctor:R,patient_id:w,doctor_id:A,changePatientDoctor:U,patientFilterFunction:T,patientOptions:Q,userFilterFunction:O,userOptions:B,findDepartment:j,selectedDepartment:S,filtersDepartment:C,addMedicineReleases:X,btnCondition:Y,buttonCondition:N,resetFilter:_}}};var Ye=a(2968),Ne=a(1244),Ee=a(6067),Ie=a(3933),We=a(9549),Pe=a(45),Ke=a(3341),Qe=a(7328),Te=a(8360),Be=a(5626),Oe=a(3417),je=a(9647),Xe=a(6915),ze=a(1263),Ge=a(8785),He=a(5389),$e=a(3766),Je=a(2589),Ze=a(4958),el=a(2517),ll=a(8657),al=a(272),tl=a.n(al);const dl=(0,Ye.A)(Ue,[["render",fe],["__scopeId","data-v-36328c74"]]),nl=dl;tl()(Ue,"components",{QBtn:Ne.A,QInput:Ee.A,QIcon:Ie.A,QSelect:We.A,QDialog:Pe.A,QCard:Ke.A,QCheckbox:Qe.A,QPopupProxy:Te.A,QDate:Be.A,QForm:Oe.A,QRadio:je.A,QSeparator:Xe.A,QTable:ze.A,QTd:Ge.A,QMenu:He.A,QList:$e.A,QItem:Je.A,QItemSection:Ze.A,QTh:el.A}),tl()(Ue,"directives",{ClosePopup:ll.A})}}]);