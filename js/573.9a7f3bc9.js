"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[573],{573:(e,t,l)=>{l.r(t),l.d(t,{default:()=>J});var a=l(1347);const s={class:"q-pa-md"},i={class:"flex justify-between"},n={class:"flex q-mt-lg"},o={class:"col"},u={class:"preliminary-checkup"},r={class:"flex justify-between items-baseline q-px-md"},d={class:"flex justify-between items-baseline q-px-md"},p={class:"flex items-center justify-end"},c={class:"flex justify-between items-baseline q-px-md"},m={class:"flex justify-between items-baseline q-px-md"},h={class:"flex justify-between items-baseline q-px-md"},y={class:"flex justify-between items-baseline q-px-md"},b={class:"col q-ml-md"},x={class:"doctors-notes fit"},_={class:"q-px-md"},v={class:"flex justify-between items-baseline q-mb-sm"},k={class:"flex justify-between items-baseline q-mb-sm"},f={class:"row justify-end items-center"},g={class:"text-center"},w={class:"flex q-mt-md",style:{"justify-content":"center","align-items":"center"}};function q(e,t,l,q,L,R){const F=(0,a.g2)("q-btn"),V=(0,a.g2)("q-input"),P=(0,a.g2)("q-date"),I=(0,a.g2)("q-popup-proxy"),C=(0,a.g2)("q-icon"),N=(0,a.g2)("q-form"),A=(0,a.g2)("q-card"),D=(0,a.g2)("q-dialog"),Q=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(N,{onSubmit:e.addRecord},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[t[11]||(t[11]=(0,a.Lk)("div",{class:"column items-center"},[(0,a.Lk)("label",{class:"text-primary text-weight-bold text-h4"},"New OPD Record")],-1)),(0,a.Lk)("div",null,[(0,a.bF)(F,{dense:"",label:"Save",icon:"save",type:"submit","no-caps":"",color:"primary",class:"q-px-lg"}),(0,a.bF)(F,{onClick:e.cancel,dense:"",label:"Cancel",icon:"close","no-caps":"",class:"q-px-lg q-ml-sm",outline:"",color:"primary"},null,8,["onClick"])])]),(0,a.Lk)("div",n,[(0,a.Lk)("div",o,[(0,a.Lk)("div",u,[t[19]||(t[19]=(0,a.Lk)("div",null,[(0,a.Lk)("p",{class:"bg-primary text-white text-center pc-heading"}," Preliminary Checkup ")],-1)),(0,a.Lk)("div",r,[t[12]||(t[12]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Temperature",-1)),(0,a.bF)(V,{"hide-bottom-space":"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.temperature,"onUpdate:modelValue":t[0]||(t[0]=t=>e.patientRecordInfo.temperature=t),rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"],placeholder:"Celsius",style:{width:"150px"}},null,8,["modelValue","rules"])]),(0,a.Lk)("div",d,[t[14]||(t[14]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Blood Pressure",-1)),(0,a.Lk)("div",p,[(0,a.bF)(V,{outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.blood_pressure_systole,"onUpdate:modelValue":t[1]||(t[1]=t=>e.patientRecordInfo.blood_pressure_systole=t),style:{width:"70px"},rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"]},null,8,["modelValue","rules"]),t[13]||(t[13]=(0,a.Lk)("label",{class:"text-primary text-bold q-px-sm"},"/",-1)),(0,a.bF)(V,{outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.blood_pressure_diastole,"onUpdate:modelValue":t[2]||(t[2]=t=>e.patientRecordInfo.blood_pressure_diastole=t),style:{width:"70px"},rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",c,[t[15]||(t[15]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Height",-1)),(0,a.bF)(V,{outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.height,"onUpdate:modelValue":t[3]||(t[3]=t=>e.patientRecordInfo.height=t),"hide-bottom-space":"",rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"],placeholder:"Centimeters",style:{width:"150px"}},null,8,["modelValue","rules"])]),(0,a.Lk)("div",m,[t[16]||(t[16]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Weight",-1)),(0,a.bF)(V,{outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.weight,"onUpdate:modelValue":t[4]||(t[4]=t=>e.patientRecordInfo.weight=t),"hide-bottom-space":"",rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"],placeholder:"Kilograms",style:{width:"150px"}},null,8,["modelValue","rules"])]),(0,a.Lk)("div",h,[t[17]||(t[17]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Pulse Rate",-1)),(0,a.bF)(V,{outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.pulse_rate,"onUpdate:modelValue":t[5]||(t[5]=t=>e.patientRecordInfo.pulse_rate=t),"hide-bottom-space":"",rules:[e=>!isNaN(e)||"Field must contain numbers only"],placeholder:"Beats per minute",style:{width:"150px"}},null,8,["modelValue","rules"])]),(0,a.Lk)("div",y,[t[18]||(t[18]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Oxygen Saturation",-1)),(0,a.bF)(V,{outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.oxygen_sat,"onUpdate:modelValue":t[6]||(t[6]=t=>e.patientRecordInfo.oxygen_sat=t),"hide-bottom-space":"",rules:[e=>!isNaN(e)||"Field must contain numbers only"],placeholder:"%",style:{width:"150px"}},null,8,["modelValue","rules"])])])]),(0,a.Lk)("div",b,[(0,a.Lk)("div",x,[t[22]||(t[22]=(0,a.Lk)("p",{class:"bg-primary text-white text-center dn-heading"}," Doctors Notes ",-1)),(0,a.Lk)("div",_,[(0,a.Lk)("div",v,[t[20]||(t[20]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Complaint:",-1)),(0,a.bF)(V,{autogrow:"",outlined:"",dense:"",style:{width:"200px"},"input-class":"text-right text-primary",modelValue:e.patientRecordInfo.complaint,"onUpdate:modelValue":t[7]||(t[7]=t=>e.patientRecordInfo.complaint=t),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",k,[t[21]||(t[21]=(0,a.Lk)("p",{class:"text-primary text-weight-bold"},"Checkup Date:",-1)),(0,a.bF)(V,{disable:"",autogrow:"",outlined:"",dense:"",style:{width:"200px"},"input-class":"text-right text-primary",modelValue:e.patientRecordInfo.checkup_date,"onUpdate:modelValue":t[9]||(t[9]=t=>e.patientRecordInfo.checkup_date=t),placeholder:"YYYY-MM-DD",rules:[e=>e&&e.length>0||"Required field"]},{append:(0,a.k6)((()=>[(0,a.bF)(C,{name:"event",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(P,{"today-btn":"",mask:"YYYY-MM-DD",modelValue:e.patientRecordInfo.checkup_date,"onUpdate:modelValue":t[8]||(t[8]=t=>e.patientRecordInfo.checkup_date=t)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,[(0,a.bo)((0,a.bF)(F,{color:"primary",label:"Close",dense:"",flat:""},null,512),[[Q]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])])])])])])])),_:1},8,["onSubmit"]),(0,a.bF)(D,{modelValue:e.isDonePatient,"onUpdate:modelValue":t[10]||(t[10]=t=>e.isDonePatient=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(A,{class:"q-pa-md",style:{width:"380px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",g,[(0,a.bF)(C,{name:"add_task",size:"100px",color:"primary"}),t[23]||(t[23]=(0,a.Lk)("h5",{class:"text-primary text-bold no-margin"},"Success",-1)),t[24]||(t[24]=(0,a.Lk)("p",{class:"text-dark q-mt-xs"}," Patient OPD record added successfully ",-1))]),(0,a.Lk)("div",w,[e.priorityPatients&&0!==e.priorityPatients.length?((0,a.uX)(),(0,a.Wv)(F,{key:0,color:"amber-9",icon:"priority_high",label:"Call next priority patient","no-caps":"",class:"q-mt-sm",style:{width:"100%"},onClick:e.callInNextPriority},null,8,["onClick"])):(0,a.Q3)("",!0),e.otherPatients&&0!==e.otherPatients.length?((0,a.uX)(),(0,a.Wv)(F,{key:1,color:"primary",icon:"mic",label:"Call next non-priority patient","no-caps":"",class:"q-mt-sm",style:{width:"100%"},onClick:e.callInNextPatient},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(F,{color:"grey-2",icon:"home","text-color":"text-dark",label:"Return to home page","no-caps":"",class:"q-mt-sm",style:{width:"100%"},onClick:e.doneCurrentPatient},null,8,["onClick"])])])])),_:1})])),_:1},8,["modelValue"])])}l(939),l(4520);var L=l(4187),R=l(3877),F=l(455),V=l(7370),P=l(8822),I=l(3328),C=l(891),N=l(3022),A=l(8564),D=l(8883);const Q={setup(){const e=(0,F.lq)(),t=(0,F.rd)(),l=(0,N.A)();let s=I.A.getItem("cred");NaN!=s&&null!=s||t.push({name:"login"});let i=(0,L.KR)({patient_id:e.params.id,preliminary_checkup_done_by:{user_id:s?s.user_id:null,user_name:s&&s.first_name+" "+s.last_name+" "+(null!=s.suffix?s.suffix:"")},temperature:null,blood_pressure_systole:null,blood_pressure_diastole:null,height:null,weight:null,pulse_rate:null,oxygen_sat:null,doctor_id:null,complaint:null,checkup_date:C.Ay.formatDate(new Date,"YYYY-MM-DD"),status:0});const n=()=>{i.value.disease.push({opd_disease:""})},o=e=>{i.value.disease.splice(e,1)},u=()=>{i.value.lab_results.push({lab_result:""})},r=e=>{i.value.lab_results.splice(e,1)};let d=(0,L.KR)([]);const p=(e,t,l)=>{e.length>-1?t((()=>{const t=String(e.toLowerCase());(0,P.i4)(t).then((e=>{if(d.value=[],"success"===e.status){let t=(0,L.KR)([]);t.value=e.data,t.value.forEach((e=>{let t={user_name:e.user_name,user_id:e.id};d.value.push(t)}))}}))})):l()},c=()=>{A.A.show(),null!=i.value.preliminary_checkup_done_by.user_id&&(i.value.preliminary_checkup_done_by=i.value.preliminary_checkup_done_by.user_id),(0,V.Nk)(i.value,"OPD").then((t=>{A.A.hide();let a="success"===t.status?0:1;l.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Patient record added successfully":"Failed to add patient record"}),0===a&&e.params.queue&&(y.value=!0)}))},m=()=>{e.params.queue?t.push({name:"home"}):t.push({name:"patient-details",params:{id:e.params.id}})};let h=(0,L.KR)(null),y=(0,L.KR)(!1),b=(0,L.KR)(null),x=(0,L.KR)([]),_=(0,L.KR)([]);e.params.queue&&(h.value=5,(0,D.SP)(h.value).then((e=>{})),(0,a.wB)((()=>R.cloneDeep(D.uQ.value)),(()=>{x.value=[],_.value=[],D.uQ.value.forEach((e=>{1===e.is_current?b.value=e:0===e.is_current&&1===e.is_priority?x.value.push(e):0===e.is_current&&0===e.is_priority&&_.value.push(e)}))})));const v=()=>{A.A.show(),(0,D.P5)({current_patient:null!==b.value?b.value.queue_id:null,next_patient:x.value[0].queue_id,department:5,priority:1}).then((e=>{A.A.hide(),x.value=[],_.value=[],(0,D.SP)(5).then((e=>{t.push({name:"patient-details",params:{id:b.value.patient_id,queue:b.value.queue_id}})}))}))},k=()=>{A.A.show(),(0,D.P5)({current_patient:null!==b.value?b.value.queue_id:null,next_patient:_.value[0].queue_id,department:5,priority:0}).then((e=>{A.A.hide(),x.value=[],_.value=[],(0,D.SP)(5).then((e=>{t.push({name:"patient-details",params:{id:b.value.patient_id,queue:b.value.queue_id}})}))}))},f=()=>{A.A.show(),(0,D.Wb)({current_patient:b.value.queue_id,department:h.value,priority:b.value.is_priority,done:!0}).then((e=>{A.A.hide(),b.value=null,x.value=[],_.value=[],t.push({name:"home"})}))};return{keySession:s,addRecord:c,cancel:m,patientRecordInfo:i,addFinding:n,removeFinding:o,addLabResult:u,removeLabResult:r,userOptions:d,userFilterFunction:p,isDonePatient:y,callInNextPriority:v,callInNextPatient:k,doneCurrentPatient:f,currentPatient:b,priorityPatients:x,otherPatients:_}}};var j=l(2968),Y=l(3417),S=l(1244),U=l(9549),K=l(6067),M=l(3933),O=l(8360),B=l(5626),W=l(45),E=l(3341),T=l(7861),X=l(8657),z=l(272),H=l.n(z);const G=(0,j.A)(Q,[["render",q],["__scopeId","data-v-6fe6ed2a"]]),J=G;H()(Q,"components",{QForm:Y.A,QBtn:S.A,QSelect:U.A,QInput:K.A,QIcon:M.A,QPopupProxy:O.A,QDate:B.A,QDialog:W.A,QCard:E.A,QField:T.A}),H()(Q,"directives",{ClosePopup:X.A})}}]);