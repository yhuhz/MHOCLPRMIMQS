"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[143],{8143:(e,l,s)=>{s.r(l),s.d(l,{default:()=>_l});var t=s(1347),a=s(7763);const n={class:"medicine-inventory"},i={class:"flex items-center q-px-md q-pt-none"},o={class:"q-px-md"},d={class:"flex justify-between items-center"},r={class:"flex"},u={class:"flex justify-between"},c={class:"column"},m={class:"column q-ml-xl"},p={class:"column q-ml-xl"},b={class:"flex items-center justify-between q-mt-md"},x={class:"col q-ml-md"},k={class:"flex items-center justify-between"},f={class:"flex justify-center items-center q-mt-lg q-mb-md"},v={key:0},g={class:"q-px-xl q-py-lg"},y={class:"flex q-py-sm",style:{"justify-content":"center"}},h={class:"q-px-md"},L={class:"flex items-center justify-between"},w={class:"text-primary"},F={class:"flex items-center justify-between"},U={class:"text-primary"},_={class:"flex items-center justify-between"},V={class:"text-primary"},q={class:"flex q-mt-lg",style:{"justify-content":"center"}},A={key:1},I={class:"q-px-xl q-py-lg"},D={class:"flex q-py-sm",style:{"justify-content":"center"}},P={class:"flex q-mt-lg",style:{"justify-content":"center"}},R={key:2},C={class:"q-pa-lg"},S={class:"text-primary text-weight-bold text-24 text-center"},O={class:"q-mb-md q-px-md",style:{border:"2px solid #5f8d4e","border-radius":"5px"}},E={class:"row q-mt-md"},M={class:"col"},N={class:"col"},Y={class:"row"},j={class:"col"},K={class:"col"},z={class:"row"},W={class:"col"},Q={class:"col q-ml-md"},T={class:"column q-ml-md"},X={class:"flex items-center"},B={class:"q-pa-md q-mb-md",style:{border:"2px solid #5f8d4e","border-radius":"5px"}},J={class:"row"},H={class:"col"},$={class:"col q-ml-md"},G={class:"row"},Z={class:"col"},ee={class:"col q-ml-md"},le={class:"flex justify-center items-center"},se={class:"q-my-xl table"},te={key:0},ae={class:"q-px-xl q-py-lg"},ne={class:"flex q-py-sm",style:{"justify-content":"center"}},ie={class:"text-center text-grey-7",style:{"font-size":"larger"}},oe={class:"q-px-md"},de={class:"flex items-center justify-between"},re={class:"text-primary"},ue={class:"flex q-mt-lg",style:{"justify-content":"center"}},ce={key:1},me={class:"q-px-xl q-py-lg"},pe={class:"flex q-py-sm",style:{"justify-content":"center"}},be={class:"flex q-mt-lg",style:{"justify-content":"center"}},xe={key:2,class:"q-pa-lg"},ke={class:"text-primary text-weight-bold text-24 text-center q-mb-lg"},fe={class:"q-mb-lg",style:{"font-size":"larger"}},ve={class:"text-bold"},ge={class:"flex items-center justify-between"},ye={class:"q-pa-lg"},he={class:"text-primary text-weight-bold text-24 text-center"},Le={class:"q-mb-md q-px-md",style:{border:"2px solid #5f8d4e","border-radius":"5px"}},we={class:"row q-mt-md"},Fe={class:"col"},Ue={class:"col"},_e={class:"row"},Ve={class:"col"},qe={class:"col"},Ae={class:"row"},Ie={class:"col"},De={class:"col q-ml-md"},Pe={class:"column q-ml-md"},Re={class:"flex items-center"},Ce={class:"q-pa-md q-mb-md",style:{border:"2px solid #5f8d4e","border-radius":"5px"}},Se={class:"row"},Oe={class:"col"},Ee={class:"col q-ml-md"},Me={class:"row"},Ne={class:"col"},Ye={class:"col q-ml-md"},je={class:"flex justify-center items-center"};function Ke(e,l,s,Ke,ze,We){const Qe=(0,t.g2)("q-btn"),Te=(0,t.g2)("q-icon"),Xe=(0,t.g2)("q-input"),Be=(0,t.g2)("q-select"),Je=(0,t.g2)("q-checkbox"),He=(0,t.g2)("q-date"),$e=(0,t.g2)("q-popup-proxy"),Ge=(0,t.g2)("q-card"),Ze=(0,t.g2)("q-dialog"),el=(0,t.g2)("q-radio"),ll=(0,t.g2)("q-form"),sl=(0,t.g2)("q-item-section"),tl=(0,t.g2)("q-item"),al=(0,t.g2)("q-list"),nl=(0,t.g2)("q-menu"),il=(0,t.g2)("q-td"),ol=(0,t.g2)("q-table"),dl=(0,t.g2)("MHCDialog"),rl=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",i,[(0,t.bF)(Qe,{round:"",outline:"",dense:"",icon:"eva-arrow-back-outline",color:"dark",class:"q-mr-md",onClick:l[0]||(l[0]=l=>e.$router.go(-1))}),l[43]||(l[43]=(0,t.Lk)("h5",{class:"text-dark text-weight-bold"},"MANAGE USER ACCOUNTS",-1))]),(0,t.Lk)("div",o,[(0,t.Lk)("div",d,[(0,t.Lk)("div",r,[(0,t.bF)(Xe,{outlined:"",dense:"","input-style":{color:"#525252"},modelValue:e.searchString,"onUpdate:modelValue":l[1]||(l[1]=l=>e.searchString=l)},{prepend:(0,t.k6)((()=>[(0,t.bF)(Te,{name:"mdi-account-search-outline"})])),_:1},8,["modelValue"]),(0,t.bF)(Be,{modelValue:e.selectedSearchBy,"onUpdate:modelValue":l[2]||(l[2]=l=>e.selectedSearchBy=l),options:e.searchBy,outlined:"",dense:"",label:"Search By:",class:"mhc-select-200"},null,8,["modelValue","options"]),(0,t.bF)(Qe,{outline:"",label:"Filters","no-caps":"","icon-right":"eva-funnel-outline",color:"primary",class:"q-mx-lg button-120",onClick:l[12]||(l[12]=l=>e.showFilterModal=!0)},{default:(0,t.k6)((()=>[(0,t.bF)(Ze,{modelValue:e.showFilterModal,"onUpdate:modelValue":l[11]||(l[11]=l=>e.showFilterModal=l)},{default:(0,t.k6)((()=>[(0,t.bF)(Ge,{class:"dialog-card q-pa-lg"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",u,[(0,t.Lk)("div",c,[l[44]||(l[44]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Department",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.filtersDepartment,((s,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a},[(0,t.bF)(Je,{modelValue:e.selectedFiltersDepartment,"onUpdate:modelValue":l[3]||(l[3]=l=>e.selectedFiltersDepartment=l),val:a+1,label:s,size:"xs",class:"text-dark"},null,8,["modelValue","val","label"])])))),128))]),(0,t.Lk)("div",m,[l[45]||(l[45]=(0,t.Lk)("label",{class:"text-primary text-weight-bold q-pt-md"},"Permission Level",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.filtersPermission,((s,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a},[(0,t.bF)(Je,{modelValue:e.selectedFiltersPermission,"onUpdate:modelValue":l[4]||(l[4]=l=>e.selectedFiltersPermission=l),val:a+1,label:s,size:"xs",class:"text-dark"},null,8,["modelValue","val","label"])])))),128))]),(0,t.Lk)("div",p,[l[46]||(l[46]=(0,t.Lk)("label",{class:"text-primary text-weight-bold q-pt-md"},"Status",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.statusList,((s,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a},[(0,t.bF)(Je,{modelValue:e.selectedFilterStatus,"onUpdate:modelValue":l[5]||(l[5]=l=>e.selectedFilterStatus=l),val:a,label:s,size:"xs",class:"text-dark"},null,8,["modelValue","val","label"])])))),128))])]),(0,t.Lk)("div",b,[(0,t.Lk)("div",x,[l[48]||(l[48]=(0,t.Lk)("label",{class:"text-weight-bold text-primary"},"Date Added",-1)),(0,t.Lk)("div",k,[(0,t.bF)(Xe,{dense:"",outlined:"",hint:"From","input-style":{color:"#525252"},class:"q-mt-sm width-150",modelValue:e.dateAdded[0],"onUpdate:modelValue":l[7]||(l[7]=l=>e.dateAdded[0]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(Te,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)($e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(He,{mask:"YYYY-MM-DD",modelValue:e.dateAdded[0],"onUpdate:modelValue":l[6]||(l[6]=l=>e.dateAdded[0]=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),l[47]||(l[47]=(0,t.Lk)("div",{class:"line"},null,-1)),(0,t.bF)(Xe,{dense:"",outlined:"",hint:"To","input-style":{color:"#525252"},class:"q-mt-sm width-150",modelValue:e.dateAdded[1],"onUpdate:modelValue":l[9]||(l[9]=l=>e.dateAdded[1]=l)},{append:(0,t.k6)((()=>[(0,t.bF)(Te,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)($e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(He,{mask:"YYYY-MM-DD",modelValue:e.dateAdded[1],"onUpdate:modelValue":l[8]||(l[8]=l=>e.dateAdded[1]=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])]),(0,t.Lk)("div",f,[(0,t.bF)(Qe,{dense:"",color:"primary",label:"Done","no-caps":"",class:"button-80",onClick:l[10]||(l[10]=l=>e.showFilterModal=!e.showFilterModal)})])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(Qe,{color:"primary",label:"Search","no-caps":"","icon-right":"eva-search-outline",class:"button-120",onClick:e.getUsers},null,8,["onClick"])]),(0,t.Lk)("div",null,[(0,t.bF)(Qe,{onClick:l[13]||(l[13]=l=>e.isAddNewUser=!0),outline:"",label:"Add New User","icon-right":"person_add","no-caps":"",color:"primary"})]),(0,t.bF)(Ze,{modelValue:e.isAddNewUser,"onUpdate:modelValue":l[27]||(l[27]=l=>e.isAddNewUser=l),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ge,null,{default:(0,t.k6)((()=>[e.isAddUserSuccess?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.Lk)("div",g,[(0,t.Lk)("div",y,[(0,t.bF)(Te,{name:"add_task",size:"xl",color:"primary"})]),l[52]||(l[52]=(0,t.Lk)("p",{class:"text-primary text-center text-bold",style:{"font-size":"xx-large"}}," Success! ",-1)),l[53]||(l[53]=(0,t.Lk)("p",{class:"text-center text-grey-7",style:{"font-size":"larger"}}," User account successfully created! ",-1)),(0,t.Lk)("div",h,[(0,t.Lk)("div",L,[l[49]||(l[49]=(0,t.Lk)("label",null,"User ID:",-1)),(0,t.Lk)("label",w,(0,a.v_)(e.userSuccess.userID),1)]),(0,t.Lk)("div",F,[l[50]||(l[50]=(0,t.Lk)("label",null,"Username:",-1)),(0,t.Lk)("label",U,(0,a.v_)(e.userSuccess.username),1)]),(0,t.Lk)("div",_,[l[51]||(l[51]=(0,t.Lk)("label",null,"Password: ",-1)),(0,t.Lk)("label",V,(0,a.v_)(e.userSuccess.password),1)])]),(0,t.Lk)("div",q,[(0,t.bF)(Qe,{color:"primary",label:"Back","no-caps":"",class:"button-120",onClick:l[14]||(l[14]=l=>{e.isAddUserSuccess=!e.isAddUserSuccess,e.isAddNewUser=!e.isAddNewUser})})])])])):e.isAddUserFail?((0,t.uX)(),(0,t.CE)("div",A,[(0,t.Lk)("div",I,[(0,t.Lk)("div",D,[(0,t.bF)(Te,{name:"error",color:"negative",size:"xl"})]),l[54]||(l[54]=(0,t.Lk)("p",{class:"text-negative text-center text-bold",style:{"font-size":"xx-large"}}," Error! ",-1)),l[55]||(l[55]=(0,t.Lk)("p",{class:"text-grey-7",style:{"font-size":"larger"}}," There was some trouble adding this user account ",-1)),(0,t.Lk)("div",P,[(0,t.bF)(Qe,{color:"grey-7",label:"Back","no-caps":"",class:"button-120",onClick:l[15]||(l[15]=l=>e.isAddUserFail=!e.isAddUserFail)})])])])):((0,t.uX)(),(0,t.CE)("div",R,[(0,t.Lk)("div",C,[(0,t.Lk)("div",null,[(0,t.Lk)("p",S,[(0,t.bF)(Te,{name:"person_add",class:"q-mr-xs q-gutter-xs"}),l[56]||(l[56]=(0,t.eW)(" ADD NEW USER ")),(0,t.bo)((0,t.bF)(Qe,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline",style:{float:"right"}},null,512),[[rl]])])]),(0,t.bF)(ll,{onSubmit:e.addUser,onReset:e.onReset},{default:(0,t.k6)((()=>[(0,t.Lk)("fieldset",O,[l[64]||(l[64]=(0,t.Lk)("legend",{class:"q-px-sm text-primary text-bold"}," PERSONAL INFORMATION ",-1)),(0,t.Lk)("div",E,[(0,t.Lk)("div",M,[l[57]||(l[57]=(0,t.Lk)("label",{class:"text-primary text-bold"},[(0,t.eW)("First Name "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs q-mr-md",modelValue:e.newUserInfo.first_name,"onUpdate:modelValue":l[16]||(l[16]=l=>e.newUserInfo.first_name=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",N,[l[58]||(l[58]=(0,t.Lk)("label",{class:"text-primary text-bold"},"Middle Name",-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs",modelValue:e.newUserInfo.middle_name,"onUpdate:modelValue":l[17]||(l[17]=l=>e.newUserInfo.middle_name=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",Y,[(0,t.Lk)("div",j,[l[59]||(l[59]=(0,t.Lk)("label",{class:"text-primary text-bold"},[(0,t.eW)("Last Name "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mr-md q-mt-xs",modelValue:e.newUserInfo.last_name,"onUpdate:modelValue":l[18]||(l[18]=l=>e.newUserInfo.last_name=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",K,[l[60]||(l[60]=(0,t.Lk)("label",{class:"text-primary text-bold"},"Suffix",-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs",modelValue:e.newUserInfo.suffix,"onUpdate:modelValue":l[19]||(l[19]=l=>e.newUserInfo.suffix=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",z,[(0,t.Lk)("div",W,[l[61]||(l[61]=(0,t.Lk)("label",{class:"text-primary text-bold"},[(0,t.eW)("Birthdate "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",placeholder:"YYYY-MM-DD",class:"q-mt-xs",modelValue:e.newUserInfo.birthdate,"onUpdate:modelValue":l[21]||(l[21]=l=>e.newUserInfo.birthdate=l),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,t.k6)((()=>[(0,t.bF)(Te,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)($e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(He,{mask:"YYYY-MM-DD",label:"YYYY-MM-DD",modelValue:e.newUserInfo.birthdate,"onUpdate:modelValue":l[20]||(l[20]=l=>e.newUserInfo.birthdate=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t.Lk)("div",Q,[l[62]||(l[62]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Phone Number "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs",modelValue:e.newUserInfo.phone_number,"onUpdate:modelValue":l[22]||(l[22]=l=>e.newUserInfo.phone_number=l),rules:[e=>e&&e.length>0&&e.length<12||"Invalid phone number"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",T,[l[63]||(l[63]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Sex "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.Lk)("div",X,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.sexArray,((l,s)=>((0,t.uX)(),(0,t.CE)("div",{key:s},[(0,t.bF)(el,{modelValue:e.newUserInfo.sex,"onUpdate:modelValue":l=>e.newUserInfo.sex=l,val:s,label:l,class:"text-dark"},null,8,["modelValue","onUpdate:modelValue","val","label"])])))),128))])])])]),(0,t.Lk)("fieldset",B,[l[69]||(l[69]=(0,t.Lk)("legend",{class:"q-px-sm text-primary text-bold"}," JOB INFORMATION ",-1)),(0,t.Lk)("div",J,[(0,t.Lk)("div",H,[l[65]||(l[65]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Department "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Be,{modelValue:e.newUserInfo.department,"onUpdate:modelValue":[l[23]||(l[23]=l=>e.newUserInfo.department=l),e.changeDepartment],dense:"",outlined:"",options:e.departmentArray,class:"q-mt-xs"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,t.Lk)("div",$,[l[66]||(l[66]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Job Title "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",placeholder:"ex. Doctor",class:"q-mt-xs",modelValue:e.newUserInfo.job_title,"onUpdate:modelValue":l[24]||(l[24]=l=>e.newUserInfo.job_title=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,t.Lk)("div",G,[(0,t.Lk)("div",Z,[l[67]||(l[67]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Permission Level "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Be,{modelValue:e.newUserInfo.permission_level,"onUpdate:modelValue":[l[25]||(l[25]=l=>e.newUserInfo.permission_level=l),e.changePermission],dense:"",outlined:"",options:e.permissionArray,class:"q-mt-xs",disable:e.isPermissionDisabled,rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","disable","rules","onUpdate:modelValue"])]),(0,t.Lk)("div",ee,[l[68]||(l[68]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Status "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Be,{modelValue:e.newUserInfo.status,"onUpdate:modelValue":l[26]||(l[26]=l=>e.newUserInfo.status=l),dense:"",outlined:"",options:e.statusList,class:"q-mt-xs"},null,8,["modelValue","options"])])])]),(0,t.Lk)("div",le,[(0,t.bF)(Qe,{color:"primary",label:"Submit",type:"submit","no-caps":"",class:"button-120 q-mr-xl"}),(0,t.bF)(Qe,{outline:"",color:"primary",label:"Reset",type:"reset","no-caps":"",class:"button-120"})])])),_:1},8,["onSubmit","onReset"])])]))])),_:1})])),_:1},8,["modelValue"])]),(0,t.Lk)("div",se,[(0,t.bF)(ol,{columns:e.columns,rows:e.UsersList,pagination:{rowsPerPage:10},"rows-per-page-options":[5,10,15,20,0],flat:"",dense:"",class:"mhc-table"},{"body-cell-action":(0,t.k6)((s=>[(0,t.bF)(il,{props:s},{default:(0,t.k6)((()=>[(0,t.bF)(Qe,{dense:"",color:"primary",label:"Action","icon-right":"more_vert","no-caps":"",unelevated:"",class:"button-100 action-btn"},{default:(0,t.k6)((()=>[(0,t.bF)(nl,{"transition-show":"jump-down","transition-hide":"jump-up",class:"width-200"},{default:(0,t.k6)((()=>[(0,t.bF)(al,{separator:"",dense:""},{default:(0,t.k6)((()=>[(0,t.bF)(tl,{clickable:"",class:"drop-list",onClick:l=>e.openResetPassword(s.row.user_id)},{default:(0,t.k6)((()=>[(0,t.bF)(sl,null,{default:(0,t.k6)((()=>l[70]||(l[70]=[(0,t.eW)("Reset Password")]))),_:1}),(0,t.bF)(sl,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(Te,{size:"xs",name:"lock_reset"})])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(tl,{clickable:"",class:"drop-list",onClick:l=>e.editUserModal(s.row)},{default:(0,t.k6)((()=>[(0,t.bF)(sl,null,{default:(0,t.k6)((()=>l[71]||(l[71]=[(0,t.eW)("Edit Details")]))),_:1}),(0,t.bF)(sl,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(Te,{size:"xs",name:"eva-edit-outline"})])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(tl,{clickable:"",class:"drop-list-delete",onClick:l=>e.openDialog(s.row.user_id)},{default:(0,t.k6)((()=>[(0,t.bF)(sl,null,{default:(0,t.k6)((()=>l[72]||(l[72]=[(0,t.eW)("Delete Record")]))),_:1}),(0,t.bF)(sl,{avatar:""},{default:(0,t.k6)((()=>[(0,t.bF)(Te,{size:"xs",name:"eva-trash-2-outline"})])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])]),(0,t.bF)(Ze,{persistent:"",modelValue:e.isResetPassword,"onUpdate:modelValue":l[30]||(l[30]=l=>e.isResetPassword=l)},{default:(0,t.k6)((()=>[(0,t.bF)(Ge,null,{default:(0,t.k6)((()=>[e.isPasswordSuccess?((0,t.uX)(),(0,t.CE)("div",te,[(0,t.Lk)("div",ae,[(0,t.Lk)("div",ne,[(0,t.bF)(Te,{name:"add_task",size:"xl",color:"primary"})]),l[74]||(l[74]=(0,t.Lk)("p",{class:"text-primary text-center text-bold",style:{"font-size":"xx-large"}}," Success! ",-1)),(0,t.Lk)("p",ie," Password reset successful for user account "+(0,a.v_)(e.resetPasswordID),1),(0,t.Lk)("div",oe,[(0,t.Lk)("div",de,[l[73]||(l[73]=(0,t.Lk)("label",null,"New Password: ",-1)),(0,t.Lk)("label",re,(0,a.v_)(e.successMessage),1)])]),(0,t.Lk)("div",ue,[(0,t.bF)(Qe,{color:"primary",label:"Back","no-caps":"",class:"button-120",onClick:l[28]||(l[28]=l=>{e.isPasswordSuccess=!e.isPasswordSuccess,e.isResetPassword=!e.isResetPassword})})])])])):e.isPasswordFail?((0,t.uX)(),(0,t.CE)("div",ce,[(0,t.Lk)("div",me,[(0,t.Lk)("div",pe,[(0,t.bF)(Te,{name:"error",color:"negative",size:"xl"})]),l[75]||(l[75]=(0,t.Lk)("p",{class:"text-negative text-center text-bold",style:{"font-size":"xx-large"}}," Error! ",-1)),l[76]||(l[76]=(0,t.Lk)("p",{class:"text-grey-7",style:{"font-size":"larger"}}," There was some trouble resetting this user's password ",-1)),(0,t.Lk)("div",be,[(0,t.bF)(Qe,{color:"grey-7",label:"Back","no-caps":"",class:"button-120",onClick:l[29]||(l[29]=l=>{e.isPasswordFail=!e.isPasswordFail,e.isResetPassword=!e.isResetPassword})})])])])):((0,t.uX)(),(0,t.CE)("div",xe,[(0,t.Lk)("div",null,[(0,t.Lk)("p",ke,[(0,t.bF)(Te,{name:"lock_reset",class:"q-mr-xs q-gutter-xs"}),l[77]||(l[77]=(0,t.eW)(" RESET PASSWORD ")),(0,t.bo)((0,t.bF)(Qe,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline",style:{float:"right"}},null,512),[[rl]])])]),(0,t.Lk)("p",fe,[l[78]||(l[78]=(0,t.eW)(" Are you sure you want to reset the password for user ID ")),(0,t.Lk)("span",ve,(0,a.v_)(e.resetPasswordID),1),l[79]||(l[79]=(0,t.eW)("? "))]),(0,t.Lk)("div",ge,[(0,t.bo)((0,t.bF)(Qe,{label:"Cancel","no-caps":"",color:"grey-7",class:"button-120"},null,512),[[rl]]),(0,t.bF)(Qe,{label:"Yes","no-caps":"",color:"primary",class:"button-120",onClick:e.resetPassword},null,8,["onClick"])])]))])),_:1})])),_:1},8,["modelValue"]),(0,t.bF)(Ze,{modelValue:e.isEditUser,"onUpdate:modelValue":l[42]||(l[42]=l=>e.isEditUser=l),persistent:""},{default:(0,t.k6)((()=>[(0,t.bF)(Ge,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",ye,[(0,t.Lk)("div",null,[(0,t.Lk)("p",he,[(0,t.bF)(Te,{name:"person_add",class:"q-mr-xs q-gutter-xs"}),l[80]||(l[80]=(0,t.eW)(" EDIT USER INFO ")),(0,t.bo)((0,t.bF)(Qe,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline",style:{float:"right"}},null,512),[[rl]])])]),(0,t.bF)(ll,{onSubmit:e.editUser,onReset:e.onReset},{default:(0,t.k6)((()=>[(0,t.Lk)("fieldset",Le,[l[88]||(l[88]=(0,t.Lk)("legend",{class:"q-px-sm text-primary text-bold"}," PERSONAL INFORMATION ",-1)),(0,t.Lk)("div",we,[(0,t.Lk)("div",Fe,[l[81]||(l[81]=(0,t.Lk)("label",{class:"text-primary text-bold"},[(0,t.eW)("First Name "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs q-mr-md",modelValue:e.editUserInfo.first_name,"onUpdate:modelValue":l[31]||(l[31]=l=>e.editUserInfo.first_name=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",Ue,[l[82]||(l[82]=(0,t.Lk)("label",{class:"text-primary text-bold"},"Middle Name",-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs",modelValue:e.editUserInfo.middle_name,"onUpdate:modelValue":l[32]||(l[32]=l=>e.editUserInfo.middle_name=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",_e,[(0,t.Lk)("div",Ve,[l[83]||(l[83]=(0,t.Lk)("label",{class:"text-primary text-bold"},[(0,t.eW)("Last Name "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mr-md q-mt-xs",modelValue:e.editUserInfo.last_name,"onUpdate:modelValue":l[33]||(l[33]=l=>e.editUserInfo.last_name=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",qe,[l[84]||(l[84]=(0,t.Lk)("label",{class:"text-primary text-bold"},"Suffix",-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs",modelValue:e.editUserInfo.suffix,"onUpdate:modelValue":l[34]||(l[34]=l=>e.editUserInfo.suffix=l)},null,8,["modelValue"])])]),(0,t.Lk)("div",Ae,[(0,t.Lk)("div",Ie,[l[85]||(l[85]=(0,t.Lk)("label",{class:"text-primary text-bold"},[(0,t.eW)("Birthdate "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",placeholder:"YYYY-MM-DD",class:"q-mt-xs",modelValue:e.editUserInfo.birthdate,"onUpdate:modelValue":l[36]||(l[36]=l=>e.editUserInfo.birthdate=l),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,t.k6)((()=>[(0,t.bF)(Te,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)($e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(He,{mask:"YYYY-MM-DD",label:"YYYY-MM-DD",modelValue:e.editUserInfo.birthdate,"onUpdate:modelValue":l[35]||(l[35]=l=>e.editUserInfo.birthdate=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,t.Lk)("div",De,[l[86]||(l[86]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Phone Number "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",class:"q-mt-xs",modelValue:e.editUserInfo.phone_number,"onUpdate:modelValue":l[37]||(l[37]=l=>e.editUserInfo.phone_number=l),rules:[e=>e&&e.length>0&&e.length<12||"Invalid phone number"]},null,8,["modelValue","rules"])]),(0,t.Lk)("div",Pe,[l[87]||(l[87]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Sex "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.Lk)("div",Re,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.sexArray,((l,s)=>((0,t.uX)(),(0,t.CE)("div",{key:s},[(0,t.bF)(el,{modelValue:e.editUserInfo.sex,"onUpdate:modelValue":l=>e.editUserInfo.sex=l,val:s,label:l,class:"text-dark"},null,8,["modelValue","onUpdate:modelValue","val","label"])])))),128))])])])]),(0,t.Lk)("fieldset",Ce,[l[93]||(l[93]=(0,t.Lk)("legend",{class:"q-px-sm text-primary text-bold"}," JOB INFORMATION ",-1)),(0,t.Lk)("div",Se,[(0,t.Lk)("div",Oe,[l[89]||(l[89]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Department "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Be,{modelValue:e.editUserInfo.department,"onUpdate:modelValue":[l[38]||(l[38]=l=>e.editUserInfo.department=l),e.editChangeDepartment],dense:"",outlined:"",options:e.departmentArray,class:"q-mt-xs"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,t.Lk)("div",Ee,[l[90]||(l[90]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Job Title "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Xe,{dense:"",outlined:"",placeholder:"ex. Doctor",class:"q-mt-xs",modelValue:e.editUserInfo.job_title,"onUpdate:modelValue":l[39]||(l[39]=l=>e.editUserInfo.job_title=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,t.Lk)("div",Me,[(0,t.Lk)("div",Ne,[l[91]||(l[91]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Permission Level "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Be,{modelValue:e.editUserInfo.permission_level,"onUpdate:modelValue":[l[40]||(l[40]=l=>e.editUserInfo.permission_level=l),e.editChangePermission],dense:"",outlined:"",options:e.permissionArray,class:"q-mt-xs"},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,t.Lk)("div",Ye,[l[92]||(l[92]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},[(0,t.eW)("Status "),(0,t.Lk)("span",{class:"text-negative"},"*")],-1)),(0,t.bF)(Be,{modelValue:e.editUserInfo.status,"onUpdate:modelValue":l[41]||(l[41]=l=>e.editUserInfo.status=l),dense:"",outlined:"",options:e.statusList,class:"q-mt-xs"},null,8,["modelValue","options"])])])]),(0,t.Lk)("div",je,[(0,t.bF)(Qe,{color:"primary",label:"Submit",type:"submit","no-caps":"",class:"button-120 q-mr-xl"})])])),_:1},8,["onSubmit","onReset"])])])),_:1})])),_:1},8,["modelValue"])]),(0,t.bF)(dl,{content:e.$options.components.DeleteUserConfirmation},null,8,["content"])])}var ze=s(4187),We=s(3022),Qe=s(8564),Te=(s(891),s(3328));const Xe={class:"width-300"},Be={class:"flex justify-around q-mt-md"};function Je(e,l,s,a,n,i){const o=(0,t.g2)("q-icon"),d=(0,t.g2)("q-btn");return(0,t.uX)(),(0,t.CE)("div",Xe,[(0,t.bF)(o,{name:"eva-trash-2-outline",size:"100px",color:"negative"}),l[0]||(l[0]=(0,t.Lk)("h6",{class:"text-negative no-margin"},"Are you sure?",-1)),l[1]||(l[1]=(0,t.Lk)("p",{class:"text-dark m-width-250"},"Do you really want to delete this record?",-1)),(0,t.Lk)("div",Be,[(0,t.bF)(d,{onClick:a.closeDialog,label:"Cancel","no-caps":"",color:"grey-7",class:"button-100"},null,8,["onClick"]),(0,t.bF)(d,{color:"negative",label:"Yes","no-caps":"",class:"button-100",onClick:a.deleteUser},null,8,["onClick"])])])}var He=s(6091),$e=s(8822),Ge=s(2222);const Ze={setup(){const e=(0,We.A)(),l=()=>{(0,He.o)()},s=()=>{Qe.A.show(),(0,$e.JM)({user_id:Ge.K.value.id}).then((l=>{Qe.A.hide();let s="success"===l.status?0:1;e.notify({type:0===s?"positive":"negative",classes:"text-white",message:0===s?"User account deleted successfully":"Failed to delete user account"}),(0,He.o)()}))};return{closeDialog:l,deleteUser:s}}};var el=s(2968),ll=s(3933),sl=s(1244),tl=s(272),al=s.n(tl);const nl=(0,el.A)(Ze,[["render",Je]]),il=nl;al()(Ze,"components",{QIcon:ll.A,QBtn:sl.A});var ol=s(662);const dl={components:{MHCDialog:ol.A,DeleteUserConfirmation:il},setup(){const e=(0,We.A)();let l=Te.A.getItem("cred");null===l&&router.push({name:"login"});const s=(0,ze.KR)([{name:"user_id",align:"left",label:"ID",field:"user_id",sortable:!0},{name:"name",align:"left",label:"Name",field:e=>e.first_name+" "+(e.middle_name?e.middle_name+" ":" ")+e.last_name+(e.suffix?e.suffix+" ":""),sortable:!0},{name:"username",align:"left",label:"Username",field:"username",sortable:!0},{name:"department",align:"left",label:"Department",field:e=>u[e.department-1],sortable:!0},{name:"job_title",align:"left",label:"Job Title",field:"job_title",sortable:!0},{name:"permission_level",align:"left",label:"Permission",field:e=>m[e.permission_level-1],sortable:!0},{name:"phone_number",align:"left",label:"Phone Number",field:"phone_number",sortable:!0},{name:"status",align:"left",label:"Status",field:e=>d[e.status],sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"action",align:"left",label:"",field:"action"}]);let t=(0,ze.KR)(!1),a=(0,ze.KR)(!1),n=(0,ze.KR)("Name"),i=(0,ze.KR)(["Name","Username","User ID","Phone Number"]),o=(0,ze.KR)(null),d=["Active","Suspended","Deleted"],r=(0,ze.KR)([0]),u=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"],c=(0,ze.KR)([0,1,2,3,4,5,6]),m=["Administrator","Edit and View","View Only"],p=(0,ze.KR)([1,2,3]),b=(0,ze.KR)([]);const x=()=>{let e={search_by:{search_category:n.value,search_string:o.value},filters:{department:c.value,permission_level:p.value,date_added:b.value,status:r.value}};Qe.A.show(),(0,$e.TB)(e).then((e=>{Qe.A.hide()}))};x();let k=["Male","Female"],f=(0,ze.KR)(["Administrator","Edit and View","View Only"]),v=(0,ze.KR)(["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"]),g=(0,ze.KR)({last_name:null,first_name:null,middle_name:null,suffix:null,birthdate:null,phone_number:null,sex:null,department:null,job_title:null,permission_level:null,status:d[0]}),y=(0,ze.KR)(!0);const h=()=>{"Admin Office"!==g.value.department?f.value=["Edit and View","View Only"]:f.value=["Administrator","Edit and View","View Only"],g.value.permission_level=null,y.value=!1},L=()=>{"Administrator"===g.value.permission_level?v.value=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"]:v.value=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk"]};let w=(0,ze.KR)(!1),F=(0,ze.KR)({userID:null,username:null,password:null}),U=(0,ze.KR)(!1);const _=()=>{g.value.department=u.indexOf(g.value.department)+1,g.value.permission_level=m.indexOf(g.value.permission_level)+1,g.value.status=d.indexOf(g.value.status),Qe.A.show(),(0,$e.L)(g.value).then((e=>{Qe.A.hide(),"success"===e.status?(F.value.userID=e.data.user_id,F.value.username=e.data.username,F.value.password=e.data.password,w.value=!0):U.value=!0,V()}))},V=()=>{g.value={last_name:null,first_name:null,middle_name:null,suffix:null,birthdate:null,phone_number:null,sex:null,department:null,job_title:null,permission_level:null,status:"Active"}};let q=(0,ze.KR)(!1),A=(0,ze.KR)(null),I=(0,ze.KR)(!1),D=(0,ze.KR)(!1),P=(0,ze.KR)(null),R=e=>{q.value=!0,A.value=e};const C=()=>{Qe.A.show(),(0,$e.RO)({mode:"Reset Password",user_id:A.value}).then((e=>{Qe.A.hide(),"success"===e.status?(I.value=!0,P.value=e.data,V()):D.value=!0}))};let S=(0,ze.KR)(!1),O=(0,ze.KR)({});const E=e=>{S.value=!0,O.value={user_id:e.user_id,username:e.username,last_name:e.last_name,first_name:e.first_name,middle_name:e.middle_name,suffix:e.suffix,birthdate:e.birthdate,phone_number:e.phone_number,sex:e.sex,department:u[e.department-1],job_title:e.job_title,permission_level:m[e.permission_level-1],status:d[e.status]},"Administrator"===O.value.permission_level?v.value=["Admin Office"]:v.value=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"],"Admin Office"!==O.value.department?f.value=["Edit and View","View Only"]:f.value=["Administrator","Edit and View","View Only"]},M=()=>{"Administrator"===O.value.permission_level?v.value=["Admin Office"]:v.value=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"]},N=()=>{"Admin Office"!==O.value.department?f.value=["Edit and View","View Only"]:f.value=["Administrator","Edit and View","View Only"],O.value.permission_level=null},Y=()=>{Qe.A.show(),O.value.department=u.indexOf(O.value.department)+1,O.value.permission_level=m.indexOf(O.value.permission_level)+1,O.value.status=d.indexOf(O.value.status),(0,$e.Jt)(O.value).then((l=>{Qe.A.hide(),S.value=!1;let s="success"===l.status?0:1;e.notify({type:0===s?"positive":"negative",classes:"text-white",message:0===s?"User info edited successfully":"Failed to edit user info"})}))},j=e=>{(0,Ge.b)(e),(0,He.o)()};return{selectedSearchBy:n,searchBy:i,searchString:o,columns:s,showFilterModal:t,isAddNewUser:a,statusList:d,filtersDepartment:u,selectedFiltersDepartment:c,selectedFiltersPermission:p,filtersPermission:m,selectedFilterStatus:r,dateAdded:b,addUser:_,onReset:V,openDialog:j,isEditUser:S,editUserModal:E,editUserInfo:O,editUser:Y,getUsers:x,UsersList:$e.Hy,isResetPassword:q,resetPassword:C,openResetPassword:R,isPasswordSuccess:I,successMessage:P,resetPasswordID:A,newUserInfo:g,sexArray:k,isAddUserSuccess:w,userSuccess:F,isAddUserFail:U,isPasswordFail:D,isPermissionDisabled:y,changeDepartment:h,permissionArray:f,changePermission:L,departmentArray:v,editChangeDepartment:N,editChangePermission:M}}};var rl=s(6067),ul=s(9549),cl=s(45),ml=s(3341),pl=s(7328),bl=s(8360),xl=s(5626),kl=s(3417),fl=s(9647),vl=s(1263),gl=s(8785),yl=s(5389),hl=s(3766),Ll=s(2589),wl=s(4958),Fl=s(8657);const Ul=(0,el.A)(dl,[["render",Ke],["__scopeId","data-v-2d7a58d6"]]),_l=Ul;al()(dl,"components",{QBtn:sl.A,QInput:rl.A,QIcon:ll.A,QSelect:ul.A,QDialog:cl.A,QCard:ml.A,QCheckbox:pl.A,QPopupProxy:bl.A,QDate:xl.A,QForm:kl.A,QRadio:fl.A,QTable:vl.A,QTd:gl.A,QMenu:yl.A,QList:hl.A,QItem:Ll.A,QItemSection:wl.A}),al()(dl,"directives",{ClosePopup:Fl.A})}}]);