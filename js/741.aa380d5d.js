"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[741],{8741:(e,a,l)=>{l.r(a),l.d(a,{default:()=>E});var t=l(1347);const o={class:"search-patients"},n={class:"flex items-center q-px-md q-pt-none"},d={class:"q-px-md"},s={class:"flex justify-between items-center"},i={class:"flex"},r={class:"flex items-center justify-between q-mb-md"},c={class:"flex justify-start"},u={class:"flex justify-between q-mt-sm"},b={class:"q-mt-xl date-added"},m={class:"flex q-mt-sm"},g={class:"q-mt-xl"},p={class:"brgy q-mt-sm"},h={class:"q-my-xl table"};function y(e,a,l,y,f,k){const v=(0,t.g2)("q-btn"),_=(0,t.g2)("q-icon"),x=(0,t.g2)("q-input"),w=(0,t.g2)("q-select"),F=(0,t.g2)("q-date"),C=(0,t.g2)("q-popup-proxy"),V=(0,t.g2)("q-checkbox"),q=(0,t.g2)("q-scroll-area"),A=(0,t.g2)("q-card"),P=(0,t.g2)("q-dialog"),L=(0,t.g2)("q-td"),B=(0,t.g2)("q-th"),S=(0,t.g2)("q-table");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",n,[(0,t.bF)(v,{round:"",outline:"",dense:"",color:"dark",icon:"eva-arrow-back-outline",class:"q-mr-md",onClick:a[0]||(a[0]=a=>e.$router.go(-1))}),a[14]||(a[14]=(0,t.Lk)("h5",{class:"text-weight-bold text-dark"},"PREGNANT WOMEN",-1))]),(0,t.Lk)("div",d,[(0,t.Lk)("div",s,[(0,t.Lk)("div",i,[(0,t.bF)(x,{modelValue:e.searchValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.searchValue=a),outlined:"",dense:"","input-style":{color:"#525252"}},{prepend:(0,t.k6)((()=>[(0,t.bF)(_,{name:"mdi-account-search-outline"})])),_:1},8,["modelValue"]),(0,t.bF)(w,{modelValue:e.selectedSearchBy,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectedSearchBy=a),options:e.searchBy,outlined:"",dense:"",label:"Search By:",class:"mhc-select-200"},null,8,["modelValue","options"]),(0,t.bF)(v,{outline:"",label:"Filters","no-caps":"","icon-right":"eva-funnel-outline",color:"primary",class:"q-mx-md button-120",onClick:a[13]||(a[13]=a=>e.showFilterModal=!0)},{default:(0,t.k6)((()=>[(0,t.bF)(P,{modelValue:e.showFilterModal,"onUpdate:modelValue":a[12]||(a[12]=a=>e.showFilterModal=a)},{default:(0,t.k6)((()=>[(0,t.bF)(A,{class:"q-pa-md width-700",style:{overflow:"hidden"}},{default:(0,t.k6)((()=>[(0,t.Lk)("div",r,[a[15]||(a[15]=(0,t.Lk)("label",{class:"text-bold text-primary",style:{"font-size":"20px"}},"FILTERS",-1)),(0,t.bF)(v,{label:"Done",class:"bg-primary text-white q-px-md",flat:"",dense:"",onClick:a[3]||(a[3]=a=>e.showFilterModal=!e.showFilterModal)})]),(0,t.bF)(q,{style:{height:"700px"}},{default:(0,t.k6)((()=>[(0,t.Lk)("div",c,[(0,t.Lk)("div",null,[a[17]||(a[17]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Age",-1)),(0,t.Lk)("div",u,[(0,t.bF)(x,{modelValue:e.age[0],"onUpdate:modelValue":a[4]||(a[4]=a=>e.age[0]=a),dense:"",outlined:"",hint:"From",class:"q-mr-lg",style:{width:"60px"}},null,8,["modelValue"]),a[16]||(a[16]=(0,t.Lk)("div",{class:"line"},null,-1)),(0,t.bF)(x,{modelValue:e.age[1],"onUpdate:modelValue":a[5]||(a[5]=a=>e.age[1]=a),dense:"",outlined:"",hint:"To",style:{width:"60px"}},null,8,["modelValue"])])])]),(0,t.Lk)("div",b,[a[19]||(a[19]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Date Added",-1)),(0,t.Lk)("div",m,[(0,t.bF)(x,{modelValue:e.dateAdded[0],"onUpdate:modelValue":a[7]||(a[7]=a=>e.dateAdded[0]=a),dense:"",outlined:"",hint:"From",class:"width-150"},{append:(0,t.k6)((()=>[(0,t.bF)(_,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{modelValue:e.dateAdded[0],"onUpdate:modelValue":a[6]||(a[6]=a=>e.dateAdded[0]=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),a[18]||(a[18]=(0,t.Lk)("div",{class:"line"},null,-1)),(0,t.bF)(x,{modelValue:e.dateAdded[1],"onUpdate:modelValue":a[9]||(a[9]=a=>e.dateAdded[1]=a),dense:"",outlined:"",hint:"To",class:"width-150"},{append:(0,t.k6)((()=>[(0,t.bF)(_,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,t.k6)((()=>[(0,t.bF)(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{modelValue:e.dateAdded[1],"onUpdate:modelValue":a[8]||(a[8]=a=>e.dateAdded[1]=a)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,t.Lk)("div",g,[a[20]||(a[20]=(0,t.Lk)("label",{class:"text-primary text-weight-bold"},"Barangay",-1)),(0,t.Lk)("div",null,[(0,t.bF)(v,{dense:"",label:"Select All",class:"q-mt-md q-px-md",color:"primary","no-caps":"",onClick:e.select_all_brgy},null,8,["onClick"]),(0,t.bF)(v,{dense:"",label:"Select None",class:"q-mt-md q-ml-md q-px-md",color:"primary","no-caps":"",onClick:e.select_none_brgy},null,8,["onClick"]),(0,t.Lk)("div",p,[(0,t.bF)(V,{modelValue:e.outsideCamaligCheckbox,"onUpdate:modelValue":a[10]||(a[10]=a=>e.outsideCamaligCheckbox=a),label:"Outside Camalig",class:"text-dark",disable:e.brgy_checkbox_disable},null,8,["modelValue","disable"]),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.barangayList,((l,o)=>((0,t.uX)(),(0,t.CE)("div",{key:o},[(0,t.bF)(V,{modelValue:e.brgy_array_model,"onUpdate:modelValue":a[11]||(a[11]=a=>e.brgy_array_model=a),val:e.barangayList[o],label:l,class:"text-dark",disable:e.brgy_checkbox_disable},null,8,["modelValue","val","label","disable"])])))),128))])])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(v,{color:"primary",label:"Search","no-caps":"","icon-right":"eva-search-outline",class:"button-120",onClick:e.getPrenatal},null,8,["onClick"])])]),(0,t.Lk)("div",h,[(0,t.bF)(S,{columns:e.columns,rows:e.Prenatal,pagination:{rowsPerPage:10},"rows-per-page-options":[5,10,15,20,0],dense:"",flat:"",class:"mhc-table"},{"body-cell-action":(0,t.k6)((a=>[(0,t.bF)(L,{props:a},{default:(0,t.k6)((()=>[(0,t.bF)(v,{dense:"",color:"primary",label:"View","icon-right":"visibility","no-caps":"",unelevated:"",class:"button-100 action-btn",onClick:l=>e.$router.push({name:"Prenatal/patient_records",params:{id:a.row.patient_id,record_id:a.row.prenatal_id,department:"Prenatal"}})},null,8,["onClick"])])),_:2},1032,["props"])])),"header-cell-action":(0,t.k6)((a=>[(0,t.bF)(B,{props:a},{default:(0,t.k6)((()=>[e.keySession&&6===e.keySession.department?((0,t.uX)(),(0,t.Wv)(v,{key:0,dense:"",label:"Download","icon-right":"eva-download-outline","no-caps":"",color:"primary",unelevated:"",class:"button-100 download-btn",disable:!e.Prenatal||!e.Prenatal[0],onClick:e.exportTable},null,8,["disable","onClick"])):(0,t.Q3)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])])])}l(939),l(7049);var f=l(4187),k=l(1408),v=l(8564),_=l(3022),x=l(3328),w=l(1497),F=l(455);const C={setup(){const e=(0,_.A)(),a=(0,F.rd)();let l=x.A.getItem("cred");NaN!=l&&null!=l||a.push({name:"login"});let t=(0,f.KR)(["Prenatal ID","Patient ID","Name"]),o=(0,f.KR)("Prenatal ID"),n=(0,f.KR)(null),d=(0,f.KR)(!0),s=(0,f.KR)(!1),i=["Active","Deleted"],r=["Anoling","Baligang","Bantonan","Brgy. 1 (Pob)","Brgy.2 (Pob)","Brgy.3 (Pob)","Brgy.4 (Pob)","Brgy.5 (Pob)","Brgy.6 (Pob)","Brgy.7 (Pob)","Bariw","Binanderahan","Binitayan","Bongabong","Cabagñan","Cabraran Pequeño","Caguiba","Calabidongan","Comun","Cotmon","Del Rosario","Gapo","Gotob","Ilawod","Iluluan","Libod","Ligban","Mabunga","Magogon","Manawan","Maninila","Mina","Miti","Palanog","Panoypoy","Pariaan","Quinartilan","Quirangay","Quitinday","Salugan","Solong","Sua","Sumlang","Tagaytay","Tagoytoy","Taladong","Taloto","Taplacon","Tinago","Tumpa"],c=(0,f.KR)([0,40]),u=(0,f.KR)([]),b=(0,f.KR)([0]),m=(0,f.KR)(r),g=(0,f.KR)(!1),p=(0,f.KR)(!0);const h=()=>{m.value=r,p.value=!0},y=()=>{m.value=[],p.value=!1},C=(0,f.KR)([{name:"prenatal_id",align:"left",label:"Prenatal ID",field:"prenatal_id",sortable:!0},{name:"patient_id",align:"left",label:"Patient ID",field:"patient_id",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"name",align:"left",label:"Name",field:e=>e.first_name+" "+e.last_name+(e.suffix?" "+e.suffix:""),sortable:!0},{name:"previous_full_term",align:"left",label:"Previous Full Term",field:"previous_full_term",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"previous_premature",align:"left",label:"Previous Premature",field:"previous_premature",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"date_added",align:"left",label:"1st Checkup",field:"date_added",sortable:!0},{name:"midwifes_notes",align:"left",label:"Midwife's Notes",field:"midwifes_notes",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"household",align:"left",label:"Household",field:"household_name",sortable:!0},{name:"barangay",align:"left",label:"Barangay",field:"barangay",sortable:!0},{name:"birth date",align:"left",label:"Birth date",field:"birthdate",sortable:!0},{name:"age",align:"left",label:"Age",field:"age",sortable:!0},{name:"status",align:"left",label:"Status",field:e=>i[e.status],sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"action",align:"left",label:"",field:"",sortable:!1}]),V=()=>{let e={search_category:o.value,search_string:n.value,filters:{age:c.value,status:b.value,date_added:u.value,barangay:m.value,outside_camalig:p.value}};v.A.show(),(0,k.t0)({search_by:e,prenatal:!0}).then((e=>{v.A.hide()}))};V();const q=(e,a,l)=>{let t=void 0!==a?a(e,l):e;return t=void 0===t||null===t?"":String(t),t=t.split('"').join('""'),`"${t}"`},A=()=>{const a=[C.value.map((e=>q(e.label)))].concat(k.sb.value.map((e=>C.value.map((a=>q("function"===typeof a.field?a.field(e):e[void 0===a.field?a.name:a.field],a.format,e))).join(",")))).join("\r\n"),l=(0,w.A)("Prenatal Records.csv",a,"text/csv");!0!==l&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})};return{searchBy:t,selectedSearchBy:o,columns:C,searchValue:n,getPrenatal:V,downloadDisable:d,Prenatal:k.sb,showFilterModal:s,statusList:i,barangayList:r,age:c,status_array_model:b,dateAdded:u,brgy_array_model:m,select_all_brgy:h,select_none_brgy:y,brgy_checkbox_disable:g,exportTable:A,keySession:l,outsideCamaligCheckbox:p}}};var V=l(2968),q=l(1244),A=l(6067),P=l(3933),L=l(9549),B=l(45),S=l(3341),T=l(5460),Q=l(7328),R=l(8360),M=l(5626),D=l(1263),I=l(8785),K=l(2517),U=l(272),N=l.n(U);const j=(0,V.A)(C,[["render",y],["__scopeId","data-v-240fc200"]]),E=j;N()(C,"components",{QBtn:q.A,QInput:A.A,QIcon:P.A,QSelect:L.A,QDialog:B.A,QCard:S.A,QScrollArea:T.A,QCheckbox:Q.A,QPopupProxy:R.A,QDate:M.A,QTable:D.A,QTd:I.A,QTh:K.A})}}]);