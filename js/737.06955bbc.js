"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[737],{1737:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Be});var a=t(1347),s=t(7763);const d={class:"medicine-inventory-details"},i={class:"flex items-center q-px-md"},n={class:"row q-px-md q-mb-xl"},u={class:"col-3 medicine-details-col"},o={class:"text-primary text-center text-weight-bold text-24 q-mt-sm"},p={class:"flex justify-between q-px-md"},r={class:"text-primary"},c={class:"flex justify-between q-px-md"},m={class:"text-primary"},y={class:"flex justify-between q-px-md"},k={class:"text-primary"},b={class:"flex justify-between q-px-md"},v={class:"text-primary"},_={class:"flex justify-between q-px-md"},f={class:"text-primary"},x={class:"flex justify-between q-px-md"},q={class:"text-primary"},g={class:"flex justify-between q-px-md"},L={class:"text-primary"},h={class:"flex justify-between q-px-md"},R={class:"text-primary"},F={class:"flex justify-between q-px-md"},w={class:"text-primary"},D={class:"flex justify-between q-px-md"},S={class:"text-primary"},V={class:"flex justify-between q-px-md"},A={class:"text-primary"},I={class:"flex justify-between q-px-md"},E={class:"text-primary"},U={class:"col q-px-md"},M={class:"flex justify-between"},C={class:"flex justify-between"},j={class:"column"},Q={class:"column q-ml-xl"},N={class:"row q-mt-md"},K={class:"col-3"},Y={class:"flex items-center justify-start"},P={class:"col q-ml-md"},T={class:"flex justify-between"},W={class:"q-pa-md"},z={class:"flex justify-end"},O={class:"row q-mb-md q-px-lg"},X={class:"col q-mr-md"},B={class:"col"},$={class:"row q-mb-md q-px-lg"},H={class:"col q-mr-md"},G={class:"col"},J={class:"flex justify-center items-center q-my-lg"},Z={class:"q-mt-lg"},ee={class:"q-pa-md"},le={class:"flex justify-end"},te={class:"row q-mb-md q-px-lg"},ae={class:"col q-mr-md"},se={class:"col q-mr-md"},de={class:"col"},ie={class:"row q-mb-md q-px-lg"},ne={class:"col q-mr-md"},ue={class:"col"},oe={class:"flex justify-center items-center q-my-lg"};function pe(e,l,t,pe,re,ce){const me=(0,a.g2)("q-btn"),ye=(0,a.g2)("q-icon"),ke=(0,a.g2)("q-checkbox"),be=(0,a.g2)("q-input"),ve=(0,a.g2)("q-date"),_e=(0,a.g2)("q-popup-proxy"),fe=(0,a.g2)("q-card"),xe=(0,a.g2)("q-menu"),qe=(0,a.g2)("q-select"),ge=(0,a.g2)("q-form"),Le=(0,a.g2)("q-dialog"),he=(0,a.g2)("q-item-section"),Re=(0,a.g2)("q-item"),Fe=(0,a.g2)("q-list"),we=(0,a.g2)("q-td"),De=(0,a.g2)("q-th"),Se=(0,a.g2)("q-table"),Ve=(0,a.g2)("MHCDialog"),Ae=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",i,[(0,a.bF)(me,{round:"",outline:"",dense:"",icon:"eva-arrow-back-outline",color:"dark",class:"q-mr-md",onClick:l[0]||(l[0]=l=>e.$router.go(-1))}),l[21]||(l[21]=(0,a.Lk)("h5",{class:"text-dark text-weight-bold"},"SUPPLY DETAILS",-1))]),(0,a.Lk)("div",n,[(0,a.Lk)("div",u,[(0,a.Lk)("p",o,[(0,a.bF)(ye,{name:"bi-capsule-pill",class:"q-mr-xs"}),l[22]||(l[22]=(0,a.eW)(" DETAILS "))]),(0,a.Lk)("div",p,[l[23]||(l[23]=(0,a.Lk)("p",{class:"text-dark"},"SUPPLY ID:",-1)),(0,a.Lk)("p",r,(0,s.v_)(e.supplyDetails.supply_id),1)]),(0,a.Lk)("div",c,[l[24]||(l[24]=(0,a.Lk)("p",{class:"text-dark"},"Supply Name:",-1)),(0,a.Lk)("p",m,(0,s.v_)(e.supplyDetails.supply_name),1)]),(0,a.Lk)("div",y,[l[25]||(l[25]=(0,a.Lk)("p",{class:"text-dark"},"Supply Type:",-1)),(0,a.Lk)("p",k,(0,s.v_)(e.supplyDetails.supply_type),1)]),(0,a.Lk)("div",b,[l[26]||(l[26]=(0,a.Lk)("p",{class:"text-dark"},"Manufacturing Date:",-1)),(0,a.Lk)("p",v,(0,s.v_)(e.supplyDetails.mfg_date),1)]),(0,a.Lk)("div",_,[l[27]||(l[27]=(0,a.Lk)("p",{class:"text-dark"},"Expiration Date:",-1)),(0,a.Lk)("p",f,(0,s.v_)(e.supplyDetails.exp_date),1)]),(0,a.Lk)("div",x,[l[28]||(l[28]=(0,a.Lk)("p",{class:"text-dark"},"Date Added:",-1)),(0,a.Lk)("p",q,(0,s.v_)(e.supplyDetails.date_added),1)]),(0,a.Lk)("div",g,[l[29]||(l[29]=(0,a.Lk)("p",{class:"text-dark"},"Quantity Received:",-1)),(0,a.Lk)("p",L,(0,s.v_)(e.supplyDetails.quantity),1)]),(0,a.Lk)("div",h,[l[30]||(l[30]=(0,a.Lk)("p",{class:"text-dark"},"Quantity Released:",-1)),(0,a.Lk)("p",R,(0,s.v_)(e.supplyDetails.quantity_released),1)]),(0,a.Lk)("div",F,[l[31]||(l[31]=(0,a.Lk)("p",{class:"text-dark"},"Available In Stock:",-1)),(0,a.Lk)("p",w,(0,s.v_)(e.supplyDetails.in_stock),1)]),(0,a.Lk)("div",D,[l[32]||(l[32]=(0,a.Lk)("p",{class:"text-dark"},"Quantity Type:",-1)),(0,a.Lk)("p",S,(0,s.v_)(e.supplyDetails.quantity_type),1)]),(0,a.Lk)("div",V,[l[33]||(l[33]=(0,a.Lk)("p",{class:"text-dark"},"Procured By:",-1)),(0,a.Lk)("p",A,(0,s.v_)(e.supplyDetails.procured_by),1)]),(0,a.Lk)("div",I,[l[34]||(l[34]=(0,a.Lk)("p",{class:"text-dark"},"Status:",-1)),(0,a.Lk)("p",E,(0,s.v_)(e.status_list[e.supplyDetails.status]),1)])]),(0,a.Lk)("div",U,[l[47]||(l[47]=(0,a.Lk)("p",{class:"text-primary text-center text-weight-bold text-24"}," SUPPLY RELEASE ",-1)),(0,a.Lk)("div",M,[(0,a.Lk)("div",null,[(0,a.bF)(me,{dense:"",outline:"",color:"primary",label:"Filters","icon-right":"eva-funnel-outline","no-caps":"",class:"button-120 q-mr-lg"},{default:(0,a.k6)((()=>[(0,a.bF)(xe,null,{default:(0,a.k6)((()=>[(0,a.bF)(fe,{class:"q-pa-md dialog-card width-500"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",C,[(0,a.Lk)("div",j,[l[35]||(l[35]=(0,a.Lk)("label",{class:"text-primary text-weight-bold"},"Department",-1)),(0,a.bF)(ke,{modelValue:e.select_all_dept,"onUpdate:modelValue":[l[1]||(l[1]=l=>e.select_all_dept=l),e.select_all_dept_change],label:"Select All",class:"text-dark",size:"xs"},null,8,["modelValue","onUpdate:modelValue"]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filtersDepartment,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s},[(0,a.bF)(ke,{modelValue:e.selectedFiltersDepartment,"onUpdate:modelValue":l[2]||(l[2]=l=>e.selectedFiltersDepartment=l),val:s+1,label:t,size:"xs",class:"text-dark",disable:e.dept_checkbox_disable},null,8,["modelValue","val","label","disable"])])))),128))]),(0,a.Lk)("div",Q,[l[36]||(l[36]=(0,a.Lk)("label",{class:"text-primary text-weight-bold q-pt-md"},"Status",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filterStatus,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s},[(0,a.bF)(ke,{modelValue:e.selectedFilterStatus,"onUpdate:modelValue":l[3]||(l[3]=l=>e.selectedFilterStatus=l),val:s,label:t,size:"xs",class:"text-dark"},null,8,["modelValue","val","label"])])))),128))])]),(0,a.Lk)("div",N,[(0,a.Lk)("div",K,[l[37]||(l[37]=(0,a.Lk)("label",{class:"text-weight-bold text-primary"},"Quantity",-1)),(0,a.Lk)("div",Y,[(0,a.bF)(be,{dense:"",outlined:"","input-style":{color:"#525252"},hint:"From",class:"q-mt-sm",modelValue:e.quantityReleased[0],"onUpdate:modelValue":l[4]||(l[4]=l=>e.quantityReleased[0]=l)},null,8,["modelValue"]),(0,a.bF)(be,{dense:"",outlined:"","input-style":{color:"#525252"},hint:"To",class:"q-mt-sm",modelValue:e.quantityReleased[1],"onUpdate:modelValue":l[5]||(l[5]=l=>e.quantityReleased[1]=l)},null,8,["modelValue"])])]),(0,a.Lk)("div",P,[l[39]||(l[39]=(0,a.Lk)("label",{class:"text-weight-bold text-primary"},"Date Released",-1)),(0,a.Lk)("div",T,[(0,a.bF)(be,{dense:"",outlined:"",hint:"From","input-style":{color:"#525252"},class:"q-mt-sm width-150",modelValue:e.dateReleased[0],"onUpdate:modelValue":l[7]||(l[7]=l=>e.dateReleased[0]=l)},{append:(0,a.k6)((()=>[(0,a.bF)(ye,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(_e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(ve,{mask:"YYYY-MM-DD",modelValue:e.dateReleased[0],"onUpdate:modelValue":l[6]||(l[6]=l=>e.dateReleased[0]=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),l[38]||(l[38]=(0,a.Lk)("div",{class:"line"},null,-1)),(0,a.bF)(be,{dense:"",outlined:"",hint:"To","input-style":{color:"#525252"},class:"q-mt-sm width-150",modelValue:e.dateReleased[1],"onUpdate:modelValue":l[9]||(l[9]=l=>e.dateReleased[1]=l)},{append:(0,a.k6)((()=>[(0,a.bF)(ye,{name:"eva-calendar-outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(_e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(ve,{mask:"YYYY-MM-DD",modelValue:e.dateReleased[1],"onUpdate:modelValue":l[8]||(l[8]=l=>e.dateReleased[1]=l)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])])),_:1})])),_:1})])),_:1}),(0,a.bF)(me,{dense:"",color:"primary",label:"Search","icon-right":"eva-search-outline","no-caps":"",class:"button-120",onClick:e.search},null,8,["onClick"])]),(0,a.bF)(Le,{modelValue:e.isAddNewSupplyRelease,"onUpdate:modelValue":l[14]||(l[14]=l=>e.isAddNewSupplyRelease=l),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(fe,{class:"width-700"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",W,[(0,a.Lk)("div",z,[(0,a.bo)((0,a.bF)(me,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline"},null,512),[[Ae]])]),l[44]||(l[44]=(0,a.Lk)("p",{class:"text-primary text-center text-weight-bold text-24"}," SUPPLY RELEASE ",-1)),(0,a.bF)(ge,{onSubmit:e.addReleaseRecord,onReset:e.onReset},{default:(0,a.k6)((()=>[(0,a.Lk)("div",O,[(0,a.Lk)("div",X,[l[40]||(l[40]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("User ID "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(qe,{outlined:"","hide-bottom-space":"",modelValue:e.newSupplyRelease.user_id,"onUpdate:modelValue":l[10]||(l[10]=l=>e.newSupplyRelease.user_id=l),onFilter:e.userFilterFunction,"option-label":"user_name","option-value":"user_id",options:e.userOptions,"use-input":"","emit-value":"","map-options":"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",class:"q-mt-sm",rules:[e=>e&&(e.length>0||!isNaN(e))||"Required field"]},null,8,["modelValue","onFilter","options","rules"])]),(0,a.Lk)("div",B,[l[41]||(l[41]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Supply ID "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(be,{"hide-bottom-space":"",dense:"",outlined:"","input-style":{color:"#525252"},class:"q-mt-sm bg-grey-4",disable:"",modelValue:e.newSupplyRelease.supply_id,"onUpdate:modelValue":l[11]||(l[11]=l=>e.newSupplyRelease.supply_id=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",$,[(0,a.Lk)("div",H,[l[42]||(l[42]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Department "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(qe,{"hide-bottom-space":"",options:e.filtersDepartment,dense:"",outlined:"",class:"q-mt-sm",modelValue:e.newSupplyRelease.department,"onUpdate:modelValue":l[12]||(l[12]=l=>e.newSupplyRelease.department=l),rules:[e=>e&&e.length>0||!isNaN(e)||"Required field"]},null,8,["options","modelValue","rules"])]),(0,a.Lk)("div",G,[l[43]||(l[43]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Quantity "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(be,{"hide-bottom-space":"",dense:"",outlined:"",placeholder:"ex. 3","input-style":{color:"#525252"},class:"q-mt-sm",modelValue:e.newSupplyRelease.quantity,"onUpdate:modelValue":l[13]||(l[13]=l=>e.newSupplyRelease.quantity=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",J,[(0,a.bF)(me,{color:"primary",label:"Submit",type:"submit","no-caps":"",class:"button-120 q-mr-lg"}),(0,a.bF)(me,{outline:"",color:"primary",label:"Reset",type:"reset","no-caps":"",class:"button-120"})])])),_:1},8,["onSubmit","onReset"])])])),_:1})])),_:1},8,["modelValue"])]),(0,a.Lk)("div",Z,[(0,a.bF)(Se,{columns:e.columns,rows:e.SupplyRelease,pagination:{rowsPerPage:10},"rows-per-page-options":[5,10,15,20,0],loading:e.loading,flat:"",dense:"",class:"mhc-table"},{"body-cell-action":(0,a.k6)((t=>[(0,a.bF)(we,{props:t},{default:(0,a.k6)((()=>[e.keySession&&3!==e.keySession.permission_level?((0,a.uX)(),(0,a.Wv)(me,{key:0,dense:"",color:"primary",label:"Action","icon-right":"more_vert","no-caps":"",unelevated:"",class:"button-100 action-btn"},{default:(0,a.k6)((()=>[(0,a.bF)(xe,{"transition-show":"jump-down","transition-hide":"jump-up",class:"width-200"},{default:(0,a.k6)((()=>[(0,a.bF)(Fe,{separator:"",dense:""},{default:(0,a.k6)((()=>[(0,a.bF)(Re,{clickable:"",class:"drop-list",onClick:l=>e.openEditModal(t.row)},{default:(0,a.k6)((()=>[(0,a.bF)(he,null,{default:(0,a.k6)((()=>l[45]||(l[45]=[(0,a.eW)("Edit Details")]))),_:1}),(0,a.bF)(he,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{size:"xs",name:"eva-edit-outline"})])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(Re,{clickable:"",class:"drop-list-delete",onClick:l=>e.openDialog(t.row.supply_release_id)},{default:(0,a.k6)((()=>[(0,a.bF)(he,null,{default:(0,a.k6)((()=>l[46]||(l[46]=[(0,a.eW)("Delete Record")]))),_:1}),(0,a.bF)(he,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{size:"xs",name:"eva-trash-2-outline"})])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1032,["props"])])),"header-cell-action":(0,a.k6)((l=>[(0,a.bF)(De,{props:l},{default:(0,a.k6)((()=>[(0,a.bF)(me,{dense:"",label:"Download","no-caps":"","icon-right":"eva-download-outline",color:"primary",class:"button-100 download-btn",disable:!e.SupplyRelease||!e.SupplyRelease[0],onClick:e.exportTable},null,8,["disable","onClick"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","loading"])])])]),(0,a.bF)(Le,{modelValue:e.isEditSupplyRelease,"onUpdate:modelValue":l[20]||(l[20]=l=>e.isEditSupplyRelease=l),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(fe,{class:"width-700"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ee,[(0,a.Lk)("div",le,[(0,a.bo)((0,a.bF)(me,{dense:"",color:"negative",size:"0.375rem",icon:"eva-close-outline"},null,512),[[Ae]])]),l[53]||(l[53]=(0,a.Lk)("p",{class:"text-primary text-center text-weight-bold text-24"}," EDIT SUPPLY RELEASE ",-1)),(0,a.bF)(ge,{onSubmit:e.editSupplyRelease,onReset:e.onReset},{default:(0,a.k6)((()=>[(0,a.Lk)("div",te,[(0,a.Lk)("div",ae,[l[48]||(l[48]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Supply Release ID "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(be,{"hide-bottom-space":"",dense:"",outlined:"","input-style":{color:"#525252"},class:"q-mt-sm bg-grey-4",disable:"",modelValue:e.editMedReleaseInfo.supply_release_id,"onUpdate:modelValue":l[15]||(l[15]=l=>e.editMedReleaseInfo.supply_release_id=l),rules:[e=>!isNaN(e)||"Required field"]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",se,[l[49]||(l[49]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("User ID "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(qe,{outlined:"","hide-bottom-space":"",modelValue:e.editMedReleaseInfo.user_id,"onUpdate:modelValue":l[16]||(l[16]=l=>e.editMedReleaseInfo.user_id=l),onFilter:e.userFilterFunction,"option-label":"user_name","option-value":"user_id",options:e.userOptions,"use-input":"","emit-value":"","map-options":"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",class:"q-mt-sm",rules:[e=>e&&(e.length>0||!isNaN(e))||"Required field"]},null,8,["modelValue","onFilter","options","rules"])]),(0,a.Lk)("div",de,[l[50]||(l[50]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Supply ID "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(be,{"hide-bottom-space":"",dense:"",outlined:"","input-style":{color:"#525252"},class:"q-mt-sm bg-grey-4",disable:"",modelValue:e.editMedReleaseInfo.supply_id,"onUpdate:modelValue":l[17]||(l[17]=l=>e.editMedReleaseInfo.supply_id=l),rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",ie,[(0,a.Lk)("div",ne,[l[51]||(l[51]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Department "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(qe,{"hide-bottom-space":"",options:e.filtersDepartment,dense:"",outlined:"",class:"q-mt-sm",modelValue:e.editMedReleaseInfo.department,"onUpdate:modelValue":l[18]||(l[18]=l=>e.editMedReleaseInfo.department=l),rules:[e=>e&&e.length>0||!isNaN(e)||"Required field"]},null,8,["options","modelValue","rules"])]),(0,a.Lk)("div",ue,[l[52]||(l[52]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Quantity "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(be,{"hide-bottom-space":"",dense:"",outlined:"",placeholder:"ex. 3","input-style":{color:"#525252"},class:"q-mt-sm",modelValue:e.editMedReleaseInfo.quantity,"onUpdate:modelValue":l[19]||(l[19]=l=>e.editMedReleaseInfo.quantity=l),rules:[e=>!isNaN(e)||"Required field"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",oe,[(0,a.bF)(me,{color:"primary",label:"Submit",type:"submit","no-caps":"",class:"button-120 q-mr-lg"})])])),_:1},8,["onSubmit","onReset"])])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ve,{content:e.$options.components.DeleteSupplyConfirmation},null,8,["content"])])}t(939),t(4520),t(7049);var re=t(4187),ce=t(3877),me=t(9077),ye=t(8822),ke=t(8564),be=t(3022),ve=t(3328),_e=t(891),fe=t(455),xe=t(3271),qe=t(6091),ge=t(662),Le=t(2222),he=t(1497);const Re={components:{MHCDialog:ge.A,DeleteSupplyConfirmation:xe.A},setup(){const e=(0,be.A)(),l=(0,fe.lq)(),t=(0,fe.rd)();let s=ve.A.getItem("cred");NaN!=s&&null!=s||t.push({name:"login"}),ke.A.show(),(0,me.vz)(l.params.supply_id).then((e=>{ke.A.hide()})),me.zs.value=[];let d=(0,re.KR)({});(0,a.wB)((()=>ce.cloneDeep(me.kd.value)),(()=>{d.value={supply_id:l.params.supply_id,supply_name:me.kd.value.supply_name,supply_type:me.kd.value.supply_type,mfg_date:me.kd.value.mfg_date,exp_date:me.kd.value.exp_date,date_added:me.kd.value.date_added,quantity:me.kd.value.quantity,quantity_released:me.kd.value.quantity_released,in_stock:me.kd.value.quantity-me.kd.value.quantity_released,quantity_type:me.kd.value.quantity_type,procured_by:me.kd.value.procured_by,added_by:me.kd.value.added_by,status:me.kd.value.status}}));let i=["Active","Deleted"];const n=(0,re.KR)([{name:"supply_release_id",align:"left",label:"ID",field:"supply_release_id",sortable:!0},{name:"supply_id",align:"left",label:"Supply ID",field:"supply_id",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"user_name",align:"left",label:"Name",field:"user_name",sortable:!0},{name:"department",align:"left",label:"Department",field:e=>u[e.department-1],sortable:!0},{name:"quantity",align:"left",label:"Quantity",field:"quantity",sortable:!0},{name:"date",align:"left",label:"Date",field:"release_date",sortable:!0},{name:"status",align:"left",label:"Status",field:"status",sortable:!0,classes:"hidden",headerClasses:"hidden"},{name:"action",align:"left",label:"",field:"action",sortable:!1}]);let u=["Outpatient Department","Dental","Prenatal and Immunization","Pharmacy","Front Desk","Admin Office"],o=(0,re.KR)([]),p=(0,re.KR)(!0),r=(0,re.KR)(!1);!0===p.value?(u.forEach(((e,l)=>{o.value.push(l+1)})),r.value=!0):(o.value=[],r.value=!1);const c=()=>{!0===p.value?u.forEach(((e,l)=>{o.value.push(l+1)})):(o.value=[],r.value=!1)};let m=(0,re.KR)(["Patients","Staff"]),y=(0,re.KR)([0,1]),k=(0,re.KR)(["Active","Deleted"]),b=(0,re.KR)([0]),v=(0,re.KR)([0,1e3]),_=(0,re.KR)([]),f=(0,re.KR)(!1);const x=()=>{f.value=!0;let e={supply_id:l.params.supply_id,department:o.value,released_to:y.value,status:b.value,quantity_released:v.value,date_release:_.value};(0,me.Mq)(e).then((e=>{f.value=!1}))};f.value=!0;let q={supply_id:l.params.supply_id,department:o.value,released_to:y.value,status:b.value,quantity_released:v.value,date_release:_.value};(0,me.Mq)(q).then((e=>{f.value=!1}));let g=(0,re.KR)([]);const L=(e,l,t)=>{e.length>5||!isNaN(e)?l((()=>{if(isNaN(e)){const l=String(e.toLowerCase());(0,ye.i4)(l).then((e=>{if(g.value=[],"success"===e.status){let l=(0,re.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={user_name:e.id+" - "+e.user_name,user_id:e.id};g.value.push(l)}))}}))}else(0,ye.Wh)(e).then((e=>{if(g.value=[],"success"===e.status){let l=(0,re.KR)([]);l.value=e.data,l.value.forEach((e=>{let l={user_name:e.id+" - "+e.user_name,user_id:e.id};g.value.push(l)}))}}))})):t()};let h=(0,re.KR)(!1),R=(0,re.KR)({supply_id:l.params.supply_id,user_id:null,department:null,quantity:null,released_by:s&&s.user_id,release_date:_e.Ay.formatDate(new Date,"YYYY-MM-DD")});const F=()=>{R.value={supply_id:l.params.supply_id,user_id:null,department:null,quantity:null,released_by:s&&s.user_id,release_date:_e.Ay.formatDate(new Date,"YYYY-MM-DD")}},w=()=>{R.value.department=u.indexOf(R.value.department)+1,ke.A.show(),(0,me._W)(R.value).then((t=>{let a="success"===t.status?0:1;e.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Supply release record added successfully":"Failed to add supply release record"}),(0,me.vz)(l.params.supply_id).then((e=>{ke.A.hide()})),0===a&&F(),h.value=!1}))};let D=(0,re.KR)(!1),S=(0,re.KR)({});const V=e=>{D.value=!0,S.value={supply_release_id:e.supply_release_id,supply_id:l.params.supply_id,user_id:e.user_id,department:u[e.department-1],quantity:e.quantity,released_by:e.released_by,release_date:e.release_date}},A=()=>{S.value.department=u.indexOf(S.value.department)+1,(0,me.X)(S.value).then((t=>{let a="success"===t.status?0:1;e.notify({type:0===a?"positive":"negative",classes:"text-white",message:0===a?"Supply release record edited successfully":"Failed to edit supply release record"}),(0,me.vz)(l.params.supply_id).then((e=>{ke.A.hide()})),D.value=!1}))},I=e=>{(0,Le.b)({supply_release_id:e,supply_id:l.params.supply_id}),(0,qe.o)()},E=(e,l,t)=>{let a=void 0!==l?l(e,t):e;return a=void 0===a||null===a?"":String(a),a=a.split('"').join('""'),`"${a}"`},U=()=>{const t=[n.value.map((e=>E(e.label)))].concat(me.zs.value.map((e=>n.value.map((l=>E("function"===typeof l.field?l.field(e):e[void 0===l.field?l.name:l.field],l.format,e))).join(",")))).join("\r\n"),a=(0,he.A)("Supply Release for Supply ID "+l.params.supply_id+" Records.csv",t,"text/csv");!0!==a&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})};return{columns:n,isAddNewSupplyRelease:h,filtersDepartment:u,selectedFiltersDepartment:o,releaseTo:m,selectedReleaseTo:y,filterStatus:k,selectedFilterStatus:b,SupplyDetails:me.kd,SupplyRelease:me.zs,supplyDetails:d,status_list:i,select_all_dept_change:c,dept_checkbox_disable:r,select_all_dept:p,loading:f,quantityReleased:v,dateReleased:_,search:x,openDialog:I,exportTable:U,newSupplyRelease:R,addReleaseRecord:w,onReset:F,isEditSupplyRelease:D,editMedReleaseInfo:S,openEditModal:V,editSupplyRelease:A,userFilterFunction:L,userOptions:g,keySession:s}}};var Fe=t(2968),we=t(1244),De=t(3933),Se=t(5389),Ve=t(3341),Ae=t(7328),Ie=t(6067),Ee=t(8360),Ue=t(5626),Me=t(45),Ce=t(3417),je=t(9549),Qe=t(1263),Ne=t(8785),Ke=t(3766),Ye=t(2589),Pe=t(4958),Te=t(2517),We=t(8657),ze=t(272),Oe=t.n(ze);const Xe=(0,Fe.A)(Re,[["render",pe],["__scopeId","data-v-207bd924"]]),Be=Xe;Oe()(Re,"components",{QBtn:we.A,QIcon:De.A,QMenu:Se.A,QCard:Ve.A,QCheckbox:Ae.A,QInput:Ie.A,QPopupProxy:Ee.A,QDate:Ue.A,QDialog:Me.A,QForm:Ce.A,QSelect:je.A,QTable:Qe.A,QTd:Ne.A,QList:Ke.A,QItem:Ye.A,QItemSection:Pe.A,QTh:Te.A}),Oe()(Re,"directives",{ClosePopup:We.A})}}]);