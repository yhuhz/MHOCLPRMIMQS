"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[350],{3350:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var l=n(1347),u=n(7763);const s={class:"queuue q-px-lg"},a={class:"text-center q-mt-xl"},r={class:"queue-box q-mt-md q-pa-lg"},i={class:"q-mb-lg"},o={class:"queue-front-desk shadow-5"},c={class:"queue-number text-center"},d={key:0,class:"flex q-mt-md",style:{width:"100%","justify-content":"center"}},m={class:"q-mb-lg"},v={class:"queue-opd shadow-5"},k={class:"queue-number text-center"},p={key:0,class:"flex q-mt-md",style:{width:"100%","justify-content":"center"}},y={class:"queue-dental shadow-5"},h={class:"queue-number text-center"},D={key:0,class:"flex q-mt-md",style:{width:"100%","justify-content":"center"}},b={class:"queue-prenatal shadow-5"},g={class:"queue-number text-center"},q={key:0,class:"flex q-mt-md",style:{width:"100%","justify-content":"center"}},Q={class:"queue-imzn shadow-5"},L={class:"queue-number text-center"},w={key:0,class:"flex q-mt-md",style:{width:"100%","justify-content":"center"}};function x(e,t,n,x,P,_){const f=(0,l.g2)("q-btn"),C=(0,l.g2)("MHCDialog");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",a,[t[6]||(t[6]=(0,l.Lk)("p",{class:"text-weight-medium text-dark",style:{"font-size":"1.8rem"}}," Now Serving ",-1)),e.keySession&&5===e.keySession.department?((0,l.uX)(),(0,l.Wv)(f,{key:0,color:"primary",label:e.isHideButton?"Show Buttons":"Hide Buttons",icon:e.isHideButton?"visibility":"visibility_off",class:"fixed-top-right",onClick:t[0]||(t[0]=t=>e.isHideButton=!e.isHideButton)},null,8,["label","icon"])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",r,[(0,l.Lk)("div",i,[(0,l.Lk)("div",o,[t[7]||(t[7]=(0,l.Lk)("div",{class:"bg-yellow-8 department"},[(0,l.Lk)("p",{class:"text-center text-white q-py-sm department"},"Front Desk")],-1)),(0,l.Lk)("p",c,(0,u.v_)(null!=e.currentQueue.Front_Desk?"Priority"===e.currentQueue.Front_Desk.substring(0,8)?e.currentQueue.Front_Desk:"OPD"+e.currentQueue.Front_Desk:""),1)]),e.keySession&&5===e.keySession.department&&!1===e.isHideButton?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(f,{dense:"",color:"negative",label:"CLEAR OPD QUEUE",icon:"delete",class:"q-px-md",style:{width:"100%"},onClick:t[1]||(t[1]=t=>e.clearQueue(5))})])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",m,[(0,l.Lk)("div",v,[t[8]||(t[8]=(0,l.Lk)("div",{class:"bg-yellow-8 department"},[(0,l.Lk)("p",{class:"text-center text-white q-py-sm department"}," Doctor's Office ")],-1)),(0,l.Lk)("p",k,(0,u.v_)(null!=e.currentQueue.OPD?"Priority"===e.currentQueue.OPD.substring(0,8)?e.currentQueue.OPD:"OPD"+e.currentQueue.OPD:""),1)]),e.keySession&&5===e.keySession.department&&!1===e.isHideButton?((0,l.uX)(),(0,l.CE)("div",p,[(0,l.bF)(f,{dense:"",color:"negative",label:"CLEAR OPD QUEUE",icon:"delete",class:"q-px-md",style:{width:"100%"},onClick:t[2]||(t[2]=t=>e.clearQueue(1))})])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.Lk)("div",y,[t[9]||(t[9]=(0,l.Lk)("div",{class:"bg-yellow-8 department"},[(0,l.Lk)("p",{class:"text-center text-white q-py-sm department"},"Dental")],-1)),(0,l.Lk)("p",h,(0,u.v_)(null!=e.currentQueue.Dental?"Priority"===e.currentQueue.Dental.substring(0,8)?e.currentQueue.Dental:"DNTL"+e.currentQueue.Dental:""),1)]),e.keySession&&5===e.keySession.department&&!1===e.isHideButton?((0,l.uX)(),(0,l.CE)("div",D,[(0,l.bF)(f,{dense:"",color:"negative",label:"CLEAR Dental QUEUE",icon:"delete",class:"q-px-md",style:{width:"100%"},onClick:t[3]||(t[3]=t=>e.clearQueue(2))})])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.Lk)("div",b,[t[10]||(t[10]=(0,l.Lk)("div",{class:"department"},[(0,l.Lk)("p",{class:"text-center text-white q-py-sm"},"Prenatal")],-1)),(0,l.Lk)("p",g,(0,u.v_)(null!=e.currentQueue.Prenatal?"Priority"===e.currentQueue.Prenatal.substring(0,8)?e.currentQueue.Prenatal:"PNL"+e.currentQueue.Prenatal:""),1)]),e.keySession&&5===e.keySession.department&&!1===e.isHideButton?((0,l.uX)(),(0,l.CE)("div",q,[(0,l.bF)(f,{dense:"",color:"negative",label:"CLEAR prenatal QUEUE",icon:"delete",class:"q-px-md",style:{width:"100%"},onClick:t[4]||(t[4]=t=>e.clearQueue(3))})])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.Lk)("div",Q,[t[11]||(t[11]=(0,l.Lk)("div",{class:"bg-yellow-8 department"},[(0,l.Lk)("p",{class:"text-center text-white q-py-sm department"}," Immunization ")],-1)),(0,l.Lk)("p",L,(0,u.v_)(null!=e.currentQueue.Immunization?"Priority"===e.currentQueue.Immunization.substring(0,8)?e.currentQueue.Immunization:"IMZN"+e.currentQueue.Immunization:""),1)]),e.keySession&&5===e.keySession.department&&!1===e.isHideButton?((0,l.uX)(),(0,l.CE)("div",w,[(0,l.bF)(f,{dense:"",color:"negative",label:"CLEAR IMZN QUEUE",icon:"delete",class:"q-px-md",style:{width:"100%"},onClick:t[5]||(t[5]=t=>e.clearQueue(7))})])):(0,l.Q3)("",!0)])]),(0,l.bF)(C,{content:e.$options.components.ClearDepartmentQueueConfirm},null,8,["content"])])}n(939),n(4520);var P=n(4187),_=n(455),f=n(3877),C=n(8883),E=n(8564),U=n(3328),F=n(662);const I={class:"width-300"},A={class:"text-dark m-width-250"},O={class:"flex justify-around q-mt-md"};function z(e,t,n,s,a,r){const i=(0,l.g2)("q-icon"),o=(0,l.g2)("q-btn");return(0,l.uX)(),(0,l.CE)("div",I,[(0,l.bF)(i,{name:"playlist_remove",size:"100px",color:"negative"}),t[0]||(t[0]=(0,l.Lk)("h6",{class:"text-negative no-margin"},"Are you sure?",-1)),(0,l.Lk)("p",A," Do you want to clear "+(0,u.v_)(s.departmentName)+" department's queue? ",1),(0,l.Lk)("div",O,[(0,l.bF)(o,{onClick:s.closeDialog,label:"Cancel","no-caps":"",color:"grey-7",class:"button-100"},null,8,["onClick"]),(0,l.bF)(o,{color:"negative",label:"Yes","no-caps":"",class:"button-100",onClick:s.clearQueue},null,8,["onClick"])])])}var B=n(6091),S=n(2222),H=n(3022);const R={setup(){const e=(0,H.A)();let t=(0,P.KR)(null);(1===S.K.value||2===S.K.value||3===S.K.value||4===S.K.value)&&t.value;const n=()=>{(0,B.o)()},l=()=>{E.A.show(),(0,C.dB)({department:S.K.value.id}).then((t=>{E.A.hide();let n="success"===t.status?0:1;e.notify({type:0===n?"positive":"negative",classes:"text-white",message:0===n?"Department's queue cleared successfully":"Failed to clear department's queue"}),(0,B.o)()}))};return{closeDialog:n,clearQueue:l,departmentName:t}}};var K=n(2968),N=n(3933),X=n(1244),j=n(272),M=n.n(j);const T=(0,K.A)(R,[["render",z]]),Z=T;M()(R,"components",{QIcon:N.A,QBtn:X.A});const W={components:{MHCDialog:F.A,ClearDepartmentQueueConfirm:Z},setup(){(0,_.rd)();const e=(0,_.lq)();let t=U.A.getItem("cred");E.A.show(),(0,C.o6)().then((e=>{E.A.hide()}));let n=(0,P.KR)(null);setInterval((()=>{n.value=e.name,"queue-view"===n.value&&(0,C.o6)()}),1e3);let u=(0,P.KR)({Front_Desk:null,OPD:null,Dental:null,Prenatal:null,Immunization:null}),s=(0,P.KR)({Front_Desk:null,OPD:null,Dental:null,Prenatal:null,Immunization:null});(0,l.wB)((()=>f.cloneDeep(C.Ud.value)),(()=>{0!=C.Ud.value.Front_Desk.length?C.Ud.value.Front_Desk.forEach((e=>{1===e.is_current&&(u.value.Front_Desk=e.queue_number)})):u.value.Front_Desk=null,0!=C.Ud.value.OPD.length?C.Ud.value.OPD.forEach((e=>{1===e.is_current&&(u.value.OPD=e.queue_number)})):u.value.OPD=null,0!=C.Ud.value.Dental.length?C.Ud.value.Dental.forEach((e=>{1===e.is_current&&(u.value.Dental=e.queue_number)})):u.value.Dental=null,0!=C.Ud.value.Prenatal.length?C.Ud.value.Prenatal.forEach((e=>{1===e.is_current&&(u.value.Prenatal=e.queue_number)})):u.value.Prenatal=null,0!=C.Ud.value.Immunization.length?C.Ud.value.Immunization.forEach((e=>{1===e.is_current&&(u.value.Immunization=e.queue_number)})):u.value.Immunization=null,s.value={Front_Desk:C.Ud.value.Front_Desk.length-1,OPD:C.Ud.value.OPD.length-1,Dental:C.Ud.value.Dental.length-1,Prenatal:C.Ud.value.Prenatal.length-1,Immunization:C.Ud.value.Immunization.length-1}}));const a=e=>{(0,S.b)(e),(0,B.o)()};let r=(0,P.KR)(!0);return{QueueList:C.Ud,currentQueue:u,waitingQueue:s,currentRouteName:n,clearQueue:a,keySession:t,isHideButton:r}}},Y=(0,K.A)(W,[["render",x],["__scopeId","data-v-ec6ce094"]]),$=Y;M()(W,"components",{QBtn:X.A})}}]);