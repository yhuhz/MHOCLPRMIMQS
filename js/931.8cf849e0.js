"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[931],{6931:(e,l,o)=>{o.r(l),o.d(l,{default:()=>ve});var a=o(1347);const s={class:"search-patients"},t={class:"flex items-center q-px-md q-pt-none"},n={class:"q-px-md"},i={class:"flex justify-between items-center"},d={class:"flex"},u={class:"flex items-center justify-between q-mb-md"},r={class:"flex justify-between"},c={class:"flex justify-end negative-margin-38"},m={class:"text-primary text-weight-bold text-center text-18"},h={class:"row q-mt-lg"},p={class:"col q-mr-sm"},b={class:"col q-ml-sm"},g={class:"row q-mt-lg"},y={class:"col q-mr-sm"},k={class:"col q-ml-sm"},v={class:"row q-mt-md"},f={class:"col q-mr-sm"},q={class:"col q-ml-sm"},L={class:"flex justify-between items-center q-mt-lg"},x={class:"q-my-xl table"},_={class:"text-primary text-weight-bold text-center text-18"},F={class:"row q-mt-lg"},w={class:"col q-mr-sm"},V={class:"col q-ml-sm"},C={class:"row q-mt-lg"},I={class:"col q-mr-sm"},A={class:"col q-ml-sm"},H={class:"row q-mt-md"},S={class:"col q-mr-sm"},R={class:"col q-ml-sm"},D={class:"flex justify-between items-center q-mt-lg"};function P(e,l,o,P,B,U){const M=(0,a.g2)("q-btn"),Q=(0,a.g2)("q-icon"),W=(0,a.g2)("q-input"),T=(0,a.g2)("q-select"),K=(0,a.g2)("q-checkbox"),E=(0,a.g2)("q-card"),N=(0,a.g2)("q-dialog"),X=(0,a.g2)("q-form"),z=(0,a.g2)("q-item-section"),j=(0,a.g2)("q-item"),O=(0,a.g2)("q-list"),$=(0,a.g2)("q-menu"),G=(0,a.g2)("q-td"),J=(0,a.g2)("q-th"),Y=(0,a.g2)("q-table"),Z=(0,a.g2)("MHCDialog"),ee=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",t,[(0,a.bF)(M,{round:"",outline:"",dense:"",color:"dark",icon:"eva-arrow-back-outline",class:"q-mr-md",onClick:l[0]||(l[0]=l=>e.$router.go(-1))}),l[26]||(l[26]=(0,a.Lk)("h5",{class:"text-weight-bold text-dark"},"HOUSEHOLD RECORDS",-1))]),(0,a.Lk)("div",n,[(0,a.Lk)("div",i,[(0,a.Lk)("div",d,[(0,a.bF)(W,{modelValue:e.searchValue,"onUpdate:modelValue":l[1]||(l[1]=l=>e.searchValue=l),outlined:"",dense:"","input-style":{color:"#525252"}},{prepend:(0,a.k6)((()=>[(0,a.bF)(Q,{name:"mdi-account-search-outline"})])),_:1},8,["modelValue"]),(0,a.bF)(T,{modelValue:e.selectedSearchBy,"onUpdate:modelValue":l[2]||(l[2]=l=>e.selectedSearchBy=l),options:e.searchBy,outlined:"",dense:"",label:"Search By:",class:"mhc-select-200"},null,8,["modelValue","options"]),(0,a.bF)(M,{outline:"",label:"Filters","no-caps":"","icon-right":"eva-funnel-outline",color:"primary",class:"q-mx-md button-120",onClick:l[6]||(l[6]=l=>e.showFilterModal=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(N,{modelValue:e.showFilterModal,"onUpdate:modelValue":l[5]||(l[5]=l=>e.showFilterModal=l)},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"q-pa-md width-700"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",u,[l[27]||(l[27]=(0,a.Lk)("label",{class:"text-bold text-primary",style:{"font-size":"20px"}},"FILTERS",-1)),(0,a.bF)(M,{label:"Done",class:"bg-primary text-white q-px-md",flat:"",dense:"",onClick:l[3]||(l[3]=l=>e.showFilterModal=!e.showFilterModal)})]),(0,a.Lk)("div",r,[(0,a.Lk)("div",null,[l[28]||(l[28]=(0,a.Lk)("label",{class:"text-primary text-weight-bold"},"Status ",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.statusList,((o,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s},[(0,a.bF)(K,{modelValue:e.status_array_model,"onUpdate:modelValue":l[4]||(l[4]=l=>e.status_array_model=l),val:s,label:o,class:"text-dark"},null,8,["modelValue","val","label"])])))),128))])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(M,{color:"primary",label:"Search","no-caps":"","icon-right":"eva-search-outline",class:"button-120",onClick:e.getHouseholds},null,8,["onClick"])]),(0,a.Lk)("div",c,[e.keySession&&(5===e.keySession.department||6===e.keySession.department&&1===e.keySession.permission_level)&&3!==e.keySession.permission_level?((0,a.uX)(),(0,a.Wv)(M,{key:0,onClick:l[7]||(l[7]=l=>e.isAddHousehold=!0),outline:"",label:"Add Household","icon-right":"eva-home-outline","no-caps":"",color:"primary"})):(0,a.Q3)("",!0)]),(0,a.bF)(N,{modelValue:e.isAddHousehold,"onUpdate:modelValue":l[16]||(l[16]=l=>e.isAddHousehold=l),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"q-pa-lg",style:{width:"500px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("p",m,[(0,a.bF)(Q,{name:"eva-home q-gutter-xs",size:"20px",class:"q-mr-sm"}),l[29]||(l[29]=(0,a.eW)(" ADD HOUSEHOLD "))]),(0,a.bF)(X,{onSubmit:l[15]||(l[15]=l=>e.addHousehold())},{default:(0,a.k6)((()=>[(0,a.Lk)("div",h,[(0,a.Lk)("div",p,[l[30]||(l[30]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Household Name "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(W,{modelValue:e.householdInfo.household_name,"onUpdate:modelValue":l[8]||(l[8]=l=>e.householdInfo.household_name=l),dense:"",outlined:"","input-style":{color:"#525252"},placeholder:"eg. Perez",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",b,[l[31]||(l[31]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Head of Household "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(W,{modelValue:e.householdInfo.household_head,"onUpdate:modelValue":l[9]||(l[9]=l=>e.householdInfo.household_head=l),dense:"",outlined:"","input-style":{color:"#525252"},placeholder:"eg. Jose Perez",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",g,[l[34]||(l[34]=(0,a.Lk)("label",{class:"text-grey-7 text-caption text-center q-mb-md"},"If the Province / Municipality / Barangay is not on the list, please input the location and press enter",-1)),(0,a.Lk)("div",y,[l[32]||(l[32]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Province "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(T,{modelValue:e.householdInfo.province,"onUpdate:modelValue":[l[10]||(l[10]=l=>e.householdInfo.province=l),e.changeProvince],dense:"",outlined:"",options:e.provinceList,"use-input":"","new-value-mode":"add-unique",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),(0,a.Lk)("div",k,[l[33]||(l[33]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("City / Municipality "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(T,{modelValue:e.householdInfo.municipality,"onUpdate:modelValue":[l[11]||(l[11]=l=>e.householdInfo.municipality=l),e.changeMunicipality],dense:"",outlined:"",options:"Albay"===e.householdInfo.province?e.municipalityList:null,"use-input":"Albay"!==e.householdInfo.province,"new-value-mode":"add-unique",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","use-input","rules","onUpdate:modelValue"])])]),(0,a.Lk)("div",v,[(0,a.Lk)("div",f,[l[35]||(l[35]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Barangay "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),"Camalig"===e.householdInfo.municipality?((0,a.uX)(),(0,a.Wv)(T,{key:0,modelValue:e.householdInfo.barangay,"onUpdate:modelValue":l[12]||(l[12]=l=>e.householdInfo.barangay=l),dense:"",outlined:"",options:e.brgyOptions,onFilter:e.brgyFilter,"use-input":"","new-value-mode":"add-unique",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","onFilter","rules"])):((0,a.uX)(),(0,a.Wv)(W,{key:1,modelValue:e.householdInfo.barangay,"onUpdate:modelValue":l[13]||(l[13]=l=>e.householdInfo.barangay=l),dense:"",outlined:"",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"]))]),(0,a.Lk)("div",q,[l[36]||(l[36]=(0,a.Lk)("label",{class:"text-dark"},"House No., Apartment No., Street",-1)),(0,a.bF)(W,{modelValue:e.householdInfo.address_line,"onUpdate:modelValue":l[14]||(l[14]=l=>e.householdInfo.address_line=l),dense:"",outlined:"",class:"q-mt-sm"},null,8,["modelValue"])])]),(0,a.Lk)("div",L,[(0,a.bF)(M,{color:"primary",type:"submit",label:"Submit","no-caps":"",class:"button-120"}),(0,a.bo)((0,a.bF)(M,{outline:"",color:"primary",label:"Cancel","no-caps":"",class:"button-120"},null,512),[[ee]])])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,a.Lk)("div",x,[(0,a.bF)(Y,{columns:e.columns,rows:e.HouseholdsList,pagination:{rowsPerPage:10},"rows-per-page-options":[5,10,15,20,0],dense:"",flat:"",class:"mhc-table"},{"body-cell-action":(0,a.k6)((o=>[(0,a.bF)(G,{props:o},{default:(0,a.k6)((()=>[(0,a.bF)(M,{dense:"",color:"primary",label:"Action","icon-right":"more_vert","no-caps":"",unelevated:"",class:"button-100 action-btn"},{default:(0,a.k6)((()=>[(0,a.bF)($,{"transition-show":"jump-down","transition-hide":"jump-up",class:"width-200"},{default:(0,a.k6)((()=>[(0,a.bF)(O,{separator:"",dense:""},{default:(0,a.k6)((()=>[(0,a.bF)(j,{clickable:"",class:"drop-list",onClick:l=>e.$router.push({name:"search-patients",params:{household_id:o.row.household_id}})},{default:(0,a.k6)((()=>[(0,a.bF)(z,null,{default:(0,a.k6)((()=>l[37]||(l[37]=[(0,a.eW)("View Patients")]))),_:1}),(0,a.bF)(z,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{size:"xs",name:"eva-eye-outline"})])),_:1})])),_:2},1032,["onClick"]),!e.keySession||6!==e.keySession.department&&5!==e.keySession.department?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(j,{key:0,clickable:"",class:"drop-list",onClick:l=>e.openDialogEdit(o.row)},{default:(0,a.k6)((()=>[(0,a.bF)(z,null,{default:(0,a.k6)((()=>l[38]||(l[38]=[(0,a.eW)("Edit Details")]))),_:1}),(0,a.bF)(z,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{size:"xs",name:"eva-edit-outline"})])),_:1}),(0,a.Lk)("template",null,[(0,a.bF)(N,{modelValue:e.isEditHousehold,"onUpdate:modelValue":l[25]||(l[25]=l=>e.isEditHousehold=l),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"q-pa-lg",style:{width:"500px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("p",_,[(0,a.bF)(Q,{name:"eva-home q-gutter-xs",size:"20px",class:"q-mr-sm"}),l[39]||(l[39]=(0,a.eW)(" EDIT HOUSEHOLD "))]),(0,a.bF)(X,{onSubmit:l[24]||(l[24]=l=>e.editHousehold())},{default:(0,a.k6)((()=>[(0,a.Lk)("div",F,[(0,a.Lk)("div",w,[l[40]||(l[40]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Household Name "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(W,{modelValue:e.householdInfo.household_name,"onUpdate:modelValue":l[17]||(l[17]=l=>e.householdInfo.household_name=l),dense:"",outlined:"","input-style":{color:"#525252"},placeholder:"eg. Perez",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",V,[l[41]||(l[41]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Head of Household "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(W,{modelValue:e.householdInfo.household_head,"onUpdate:modelValue":l[18]||(l[18]=l=>e.householdInfo.household_head=l),dense:"",outlined:"","input-style":{color:"#525252"},placeholder:"eg. Jose Perez",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",C,[l[44]||(l[44]=(0,a.Lk)("label",{class:"text-grey-7 text-caption text-center q-mb-md"},"If the Province / Municipality / Barangay is not on the list, please input the location and press enter",-1)),(0,a.Lk)("div",I,[l[42]||(l[42]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Province "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(T,{modelValue:e.householdInfo.province,"onUpdate:modelValue":[l[19]||(l[19]=l=>e.householdInfo.province=l),e.changeProvince],dense:"",outlined:"",options:e.provinceList,"use-input":"","new-value-mode":"add-unique",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),(0,a.Lk)("div",A,[l[43]||(l[43]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("City / Municipality "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),(0,a.bF)(T,{modelValue:e.householdInfo.municipality,"onUpdate:modelValue":[l[20]||(l[20]=l=>e.householdInfo.municipality=l),e.changeMunicipality],dense:"",outlined:"",options:"Albay"===e.householdInfo.province?e.municipalityList:null,"use-input":"Albay"!==e.householdInfo.province,"new-value-mode":"add-unique",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","use-input","rules","onUpdate:modelValue"])])]),(0,a.Lk)("div",H,[(0,a.Lk)("div",S,[l[45]||(l[45]=(0,a.Lk)("label",{class:"text-dark"},[(0,a.eW)("Barangay "),(0,a.Lk)("span",{class:"text-negative"},"*")],-1)),"Camalig"===e.householdInfo.municipality?((0,a.uX)(),(0,a.Wv)(T,{key:0,modelValue:e.householdInfo.barangay,"onUpdate:modelValue":l[21]||(l[21]=l=>e.householdInfo.barangay=l),dense:"",outlined:"",options:e.brgyOptions,onFilter:e.brgyFilter,"use-input":"","new-value-mode":"add-unique",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","options","onFilter","rules"])):((0,a.uX)(),(0,a.Wv)(W,{key:1,modelValue:e.householdInfo.barangay,"onUpdate:modelValue":l[22]||(l[22]=l=>e.householdInfo.barangay=l),dense:"",outlined:"",class:"q-mt-sm",rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"]))]),(0,a.Lk)("div",R,[l[46]||(l[46]=(0,a.Lk)("label",{class:"text-dark"},"House No., Apartment No., Street",-1)),(0,a.bF)(W,{modelValue:e.householdInfo.address_line,"onUpdate:modelValue":l[23]||(l[23]=l=>e.householdInfo.address_line=l),dense:"",outlined:"",class:"q-mt-sm"},null,8,["modelValue"])])]),(0,a.Lk)("div",D,[(0,a.bF)(M,{color:"primary",type:"submit",label:"Submit","no-caps":"",class:"button-120"}),(0,a.bo)((0,a.bF)(M,{outline:"",color:"primary",label:"Cancel","no-caps":"",class:"button-120"},null,512),[[ee]])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:2},1032,["onClick"])),!e.keySession||6!==e.keySession.department&&5!==e.keySession.department?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(j,{key:1,clickable:"",class:"drop-list-delete",onClick:l=>e.deleteRecord(o.row.household_id)},{default:(0,a.k6)((()=>[(0,a.bF)(z,null,{default:(0,a.k6)((()=>l[47]||(l[47]=[(0,a.eW)("Delete Record")]))),_:1}),(0,a.bF)(z,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{size:"xs",name:"eva-trash-2-outline"})])),_:1})])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"header-cell-action":(0,a.k6)((l=>[(0,a.bF)(J,{props:l},{default:(0,a.k6)((()=>[e.keySession&&6===e.keySession.department?((0,a.uX)(),(0,a.Wv)(M,{key:0,dense:"",label:"Download","icon-right":"eva-download-outline","no-caps":"",color:"primary",unelevated:"",class:"button-100 download-btn",disable:!e.HouseholdsList||!e.HouseholdsList[0],onClick:e.exportTable},null,8,["disable","onClick"])):(0,a.Q3)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])]),(0,a.bF)(Z,{content:e.$options.components.DeleteHouseholdConfirmation},null,8,["content"])])}o(939),o(7049);var B=o(4187),U=o(662);const M={class:"width-300"},Q={class:"flex justify-around q-mt-md"};function W(e,l,o,s,t,n){const i=(0,a.g2)("q-icon"),d=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",M,[(0,a.bF)(i,{name:"eva-trash-2-outline",size:"100px",color:"negative"}),l[0]||(l[0]=(0,a.Lk)("h6",{class:"text-negative no-margin"},"Are you sure?",-1)),l[1]||(l[1]=(0,a.Lk)("p",{class:"text-dark m-width-250"},"Do you really want to delete this household record?",-1)),l[2]||(l[2]=(0,a.Lk)("p",{class:"text-negative m-width-250",style:{"font-size":"11px"}}," You still need to change the household ID of each patient records under this household ",-1)),(0,a.Lk)("div",Q,[(0,a.bF)(d,{onClick:s.closeDialog,label:"Cancel","no-caps":"",color:"grey-7",class:"button-100"},null,8,["onClick"]),(0,a.bF)(d,{color:"negative",label:"Yes","no-caps":"",class:"button-100",onClick:s.deleteRecord},null,8,["onClick"])])])}var T=o(6091),K=o(2222),E=o(8185),N=o(3022),X=o(8564);const z={setup(){const e=(0,N.A)(),l=()=>{(0,T.o)()},o=()=>{X.A.show(),(0,E.vw)({household_id:K.K.value.id}).then((l=>{X.A.hide();let o="success"===l.status?0:1;e.notify({type:0===o?"positive":"negative",classes:"text-white",message:0===o?"Household record deleted successfully":"Failed to delete household record"}),(0,T.o)()}))};return{closeDialog:l,deleteRecord:o}}};var j=o(2968),O=o(3933),$=o(1244),G=o(272),J=o.n(G);const Y=(0,j.A)(z,[["render",W]]),Z=Y;J()(z,"components",{QIcon:O.A,QBtn:$.A});var ee=o(3328),le=o(1497),oe=o(455);const ae={components:{MHCDialog:U.A,DeleteHouseholdConfirmation:Z},setup(){const e=(0,N.A)(),l=(0,oe.rd)();let o=ee.A.getItem("cred");NaN!=o&&null!=o||l.push({name:"login"});let a=(0,B.KR)(["Household Name","Household ID"]),s=(0,B.KR)("Household Name"),t=(0,B.KR)(!1),n=(0,B.KR)(["Active","Deleted"]),i=(0,B.KR)([]),d=(0,B.KR)([0]),u=(0,B.KR)(null),r=(0,B.KR)("undefined"===typeof E.$2.value),c=(0,B.KR)(!1);const m=(0,B.KR)([{name:"household_id",align:"left",label:"Household ID",field:"household_id",sortable:!0},{name:"household_name",align:"left",label:"Household Name",field:"household_name",sortable:!0},{name:"household_head",align:"left",label:"Head of Household",field:"household_head",sortable:!0},{name:"address",align:"left",label:"Address",field:e=>(e.address_line?e.address_line+", ":"")+e.barangay+", "+e.municipality+", "+e.province,sortable:!0},{name:"patient_count",align:"left",label:"No. of Patients",field:"patient_count",sortable:!0},{name:"action",align:"left",label:"",field:"",sortable:!1}]),h=()=>{let e={status:d.value,search_string:u.value};"Household ID"===s.value?(0,E.XK)(e).then((e=>{r.value="undefined"===typeof E.$2.value})):(0,E.t2)(e).then((e=>{r.value="undefined"===typeof E.$2.value}))};h(),(0,E.XK)({status:d.value,search_string:u.value});let p=["Albay","Sorsogon","Masbate","Camarines Sur","Camarines Norte","Catanduanes"],b=["Legazpi City","Ligao City","Tabaco City","Bacacay","Camalig","Daraga","Guinobatan","Jovellar","Libon","Malilipot","Malinao","Manito","Oas","Pio Duran","Polangui","Rapu-Rapu","Santo Domingo","Tiwi"],g=["Anoling","Baligang","Bantonan","Brgy. 1 (Pob)","Brgy.2 (Pob)","Brgy.3 (Pob)","Brgy.4 (Pob)","Brgy.5 (Pob)","Brgy.6 (Pob)","Brgy.7 (Pob)","Bariw","Binanderahan","Binitayan","Bongabong","Cabagñan","Cabraran Pequeño","Caguiba","Calabidongan","Comun","Cotmon","Del Rosario","Gapo","Gotob","Ilawod","Iluluan","Libod","Ligban","Mabunga","Magogon","Manawan","Maninila","Mina","Miti","Palanog","Panoypoy","Pariaan","Quinartilan","Quirangay","Quitinday","Salugan","Solong","Sua","Sumlang","Tagaytay","Tagoytoy","Taladong","Taloto","Taplacon","Tinago","Tumpa"],y=(0,B.KR)({household_name:null,household_head:null,address_line:null,barangay:null,municipality:"Camalig",province:"Albay",status:0});const k=()=>{"Albay"!==y.value.province&&(y.value.municipality=null,y.value.barangay=null)},v=()=>{"Camalig"!==y.value.municipality&&(y.value.barangay=null)};let f=(0,B.KR)([]);const q=(e,l,o)=>{l((()=>{if(""===e.length)f.value=g;else{const l=e.toLowerCase();f.value=g.filter((e=>e.toLowerCase().indexOf(l)>-1))}}))},L=()=>{X.A.show(),(0,E.Hv)(y.value).then((l=>{X.A.hide();let o="success"===l.status?0:1;e.notify({type:0===o?"positive":"negative",classes:"text-white",message:0===o?"Household record added successfully":"Failed to add household record"})}))};let x=(0,B.KR)(!1);const _=e=>{x.value=!0,y.value={household_id:e.household_id,household_name:e.household_name,household_head:e.household_head,province:e.province,municipality:e.municipality,barangay:e.barangay,address_line:e.address_line}},F=()=>{X.A.show(),(0,E.fF)(y.value).then((l=>{X.A.hide();let o="success"===l.status?0:1;e.notify({type:0===o?"positive":"negative",classes:"text-white",message:0===o?"Household record edited successfully":"Failed to edit household record"}),x.value=!1}))},w=e=>{(0,K.b)(e),(0,T.o)()},V=(e,l,o)=>{let a=void 0!==l?l(e,o):e;return a=void 0===a||null===a?"":String(a),a=a.split('"').join('""'),`"${a}"`},C=()=>{const l=[m.value.map((e=>V(e.label)))].concat(E.$2.value.map((e=>m.value.map((l=>V("function"===typeof l.field?l.field(e):e[void 0===l.field?l.name:l.field],l.format,e))).join(",")))).join("\r\n"),o=(0,le.A)("Household Records.csv",l,"text/csv");!0!==o&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})};return{searchBy:a,selectedSearchBy:s,isAddHousehold:c,columns:m,deleteRecord:w,HouseholdsList:E.$2,searchValue:u,getHouseholds:h,downloadDisable:r,householdInfo:y,addHousehold:L,isEditHousehold:x,editHousehold:F,openDialogEdit:_,showFilterModal:t,statusList:n,dateAdded:i,status_array_model:d,exportTable:C,keySession:o,provinceList:p,municipalityList:b,changeProvince:k,brgyOptions:f,brgyFilter:q,changeMunicipality:v}}};var se=o(6067),te=o(9549),ne=o(45),ie=o(3341),de=o(7328),ue=o(3417),re=o(1263),ce=o(8785),me=o(5389),he=o(3766),pe=o(2589),be=o(4958),ge=o(2517),ye=o(8657);const ke=(0,j.A)(ae,[["render",P],["__scopeId","data-v-6e598c76"]]),ve=ke;J()(ae,"components",{QBtn:$.A,QInput:se.A,QIcon:O.A,QSelect:te.A,QDialog:ne.A,QCard:ie.A,QCheckbox:de.A,QForm:ue.A,QTable:re.A,QTd:ce.A,QMenu:me.A,QList:he.A,QItem:pe.A,QItemSection:be.A,QTh:ge.A}),J()(ae,"directives",{ClosePopup:ye.A})}}]);