"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[386],{7386:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var s=a(1347),l=a(7763);const i={class:"q-pa-md"},n={class:"flex items-baseline justify-between"},r={class:"grid q-mt-lg"},d={class:"card-box midwifes-notes q-mb-md"},o={class:"flex items-baseline justify-between q-px-md q-mb-sm"},u={class:"flex items-baseline justify-between q-px-md q-mb-sm"},p={class:"flex items-baseline justify-between q-px-md q-mb-sm"},c={class:"flex items-baseline justify-between q-px-md q-mb-sm"},m={class:"flex items-baseline justify-between q-px-md q-mb-sm"},b={class:"row justify-end items-center"};function f(e,t,a,f,h,x){const y=(0,s.g2)("q-btn"),g=(0,s.g2)("q-input"),_=(0,s.g2)("q-date"),v=(0,s.g2)("q-popup-proxy"),w=(0,s.g2)("q-icon"),q=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",n,[t[6]||(t[6]=(0,s.Lk)("div",{class:"column items-center"},[(0,s.Lk)("label",{class:"text-primary text-weight-bold text-h4"},"New Prenatal Record")],-1)),(0,s.Lk)("div",null,[(0,s.bF)(y,{onClick:e.addFunction,dense:"",label:"Save",icon:"save","no-caps":"",color:"primary",class:"q-px-lg"},null,8,["onClick"]),(0,s.bF)(y,{onClick:e.cancelFunction,dense:"",label:"Cancel",icon:"close","no-caps":"",class:"q-px-lg q-ml-sm",outline:"",color:"primary"},null,8,["onClick"])])]),(0,s.Lk)("div",r,[(0,s.Lk)("div",d,[t[12]||(t[12]=(0,s.Lk)("div",{class:"q-mb-md"},[(0,s.Lk)("p",{class:"bg-green-7 text-white text-center mn-heading",style:{padding:"7px 0px"}}," Pregnancy Record ")],-1)),(0,s.Lk)("div",o,[t[7]||(t[7]=(0,s.Lk)("p",{class:"text-primary text-weight-bold"},"Prev. Full Term:",-1)),(0,s.bF)(g,{outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.previous_full_term,"onUpdate:modelValue":t[0]||(t[0]=t=>e.patientRecordInfo.previous_full_term=t),style:(0,l.Tr)(e.$q.screen.width<1366&&"width: 150px"),rules:[e=>0===e||e&&!isNaN(e)||"Numbers only"]},null,8,["modelValue","style","rules"])]),(0,s.Lk)("div",u,[t[8]||(t[8]=(0,s.Lk)("p",{class:"text-primary text-weight-bold"},"Prev. Premature:",-1)),(0,s.bF)(g,{outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.previous_premature,"onUpdate:modelValue":t[1]||(t[1]=t=>e.patientRecordInfo.previous_premature=t),style:(0,l.Tr)(e.$q.screen.width<1366&&"width: 150px"),rules:[e=>0===e||e&&!isNaN(e)||"Numbers only"]},null,8,["modelValue","style","rules"])]),(0,s.Lk)("div",p,[t[9]||(t[9]=(0,s.Lk)("p",{class:"text-primary text-weight-bold"},"Prev. Miscarriage:",-1)),(0,s.bF)(g,{"hide-bottom-space":"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",style:(0,l.Tr)(e.$q.screen.width<1366&&"width: 150px"),modelValue:e.patientRecordInfo.previous_miscarriage,"onUpdate:modelValue":t[2]||(t[2]=t=>e.patientRecordInfo.previous_miscarriage=t),rules:[e=>0===e||e&&!isNaN(e)||"Numbers only"]},null,8,["style","modelValue","rules"])]),(0,s.Lk)("div",c,[t[10]||(t[10]=(0,s.Lk)("p",{class:"text-primary text-weight-bold"},"1st Checkup Date:",-1)),(0,s.bF)(g,{disable:"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.date_added,"onUpdate:modelValue":t[3]||(t[3]=t=>e.patientRecordInfo.date_added=t),style:(0,l.Tr)(e.$q.screen.width<1366&&"width: 150px")},null,8,["modelValue","style"])]),(0,s.Lk)("div",m,[t[11]||(t[11]=(0,s.Lk)("p",{class:"text-primary text-weight-bold"},"Last Menstruation:",-1)),(0,s.bF)(g,{outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",style:(0,l.Tr)(e.$q.screen.width<1366&&"width: 150px"),modelValue:e.patientRecordInfo.last_menstruation,"onUpdate:modelValue":t[5]||(t[5]=t=>e.patientRecordInfo.last_menstruation=t),rules:[e=>e&&e.length>0||"Required field"]},{append:(0,s.k6)((()=>[(0,s.bF)(w,{name:"event",class:"cursor-pointer"},{default:(0,s.k6)((()=>[(0,s.bF)(v,{"transition-show":"scale","transition-hide":"scale"},{default:(0,s.k6)((()=>[(0,s.bF)(_,{mask:"YYYY-MM-DD",modelValue:e.patientRecordInfo.last_menstruation,"onUpdate:modelValue":t[4]||(t[4]=t=>e.patientRecordInfo.last_menstruation=t),options:t=>t<=e.dateBySubtractingDays,rules:[e=>e&&e.length>0||"Required field"]},{default:(0,s.k6)((()=>[(0,s.Lk)("div",b,[(0,s.bo)((0,s.bF)(y,{color:"primary",label:"Close",dense:"",flat:""},null,512),[[q]])])])),_:1},8,["modelValue","options","rules"])])),_:1})])),_:1})])),_:1},8,["style","modelValue","rules"])])])])])}a(939),a(4520);var h=a(4187),x=a(455),y=a(7370),g=a(8822),_=a(8564),v=a(3328),w=a(3022),q=a(891);const k={setup(){const e=(0,w.A)(),t=(0,x.lq)(),a=(0,x.rd)();let l=v.A.getItem("cred");NaN!=l&&null!=l||a.push({name:"login"});let i=(0,h.KR)({patient_id:t.params.id,midwife_id:{user_id:l?l.user_id:null,user_name:l&&l.first_name+" "+l.last_name+" "+(null!=l.suffix?l.suffix:"")},previous_full_term:null,previous_premature:null,date_added:q.Ay.formatDate(new Date,"YYYY-MM-DD"),status:0});const n=(0,h.KR)(""),r=14,d=(0,h.KR)(""),o=()=>{const e=new Date(i.value.date_added);n.value=e.toISOString().split("T")[0]},u=()=>{const e=new Date,t=new Date(e.setDate(e.getDate()-r));d.value=t.toISOString().split("T")[0].replaceAll("-","/")};(0,s.sV)((()=>{o(),u()}));let p=(0,h.KR)([]);const c=(e,t,a)=>{e.length>-1?t((()=>{const t=String(e.toLowerCase());(0,g.i4)(t).then((e=>{if(p.value=[],"success"===e.status){let t=(0,h.KR)([]);t.value=e.data,t.value.forEach((e=>{let t={user_name:e.user_name,user_id:e.id};p.value.push(t)}))}}))})):a()};let m=()=>{t.params.queue?a.push({name:"home"}):a.push({name:"patient-details",params:{id:t.params.id}})};const b=()=>{null!=i.value.midwife_id.user_id&&(i.value.midwife_id=i.value.midwife_id.user_id),_.A.show(),(0,y.Nk)(i.value,t.params.department).then((s=>{_.A.hide();let l="success"===s.status?0:1;e.notify({type:0===l?"positive":"negative",classes:"text-white",message:0===l?"Patient record added successfully":"Failed to add patient record"}),0===l&&(y.qd.value=[],t.params.queue?a.push({name:"Prenatal/patient_records",params:{record_id:s.data.record_id,department_queue:t.params.department}}):a.push({name:"Prenatal/patient_records",params:{record_id:s.data.record_id,department:t.params.department}}))}))};return{patientRecordInfo:i,addFunction:b,cancelFunction:m,userOptions:p,userFilterFunction:c,dateBySubtractingDays:d}}};var R=a(2968),L=a(1244),F=a(9549),I=a(6067),V=a(3933),A=a(8360),D=a(5626),N=a(6915),C=a(7861),P=a(8657),S=a(272),T=a.n(S);const Q=(0,R.A)(k,[["render",f],["__scopeId","data-v-c776a598"]]),Y=Q;T()(k,"components",{QBtn:L.A,QSelect:F.A,QInput:I.A,QIcon:V.A,QPopupProxy:A.A,QDate:D.A,QSeparator:N.A,QField:C.A}),T()(k,"directives",{ClosePopup:P.A})}}]);