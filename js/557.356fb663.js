"use strict";(globalThis["webpackChunkmhoclprmimqs"]=globalThis["webpackChunkmhoclprmimqs"]||[]).push([[557],{8557:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(1347);const s={class:"q-pa-md"},i={class:"flex justify-between"},n={class:"preliminary-checkup q-mt-lg",style:{width:"400px"}},o={class:"q-px-md"},d={class:"flex justify-between items-baseline"},r={class:"flex justify-between items-baseline"},u={class:"flex items-center justify-end"},p={class:"flex justify-between items-baseline"},c={class:"flex justify-between items-baseline"};function m(e,t,a,m,b,h){const x=(0,l.g2)("q-btn"),y=(0,l.g2)("q-input"),_=(0,l.g2)("q-form");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(_,{onSubmit:e.addRecord},{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[t[5]||(t[5]=(0,l.Lk)("div",{class:"column items-center"},[(0,l.Lk)("label",{class:"text-primary text-weight-bold text-h4"},"New Dental Record")],-1)),(0,l.Lk)("div",null,[(0,l.bF)(x,{dense:"",label:"Save",icon:"save",type:"submit","no-caps":"",color:"primary",class:"q-px-lg"}),(0,l.bF)(x,{onClick:e.cancel,dense:"",label:"Cancel",icon:"close","no-caps":"",class:"q-px-lg q-ml-sm",outline:"",color:"primary"},null,8,["onClick"])])]),(0,l.Lk)("div",n,[t[11]||(t[11]=(0,l.Lk)("div",null,[(0,l.Lk)("p",{class:"bg-primary text-white text-center pc-heading"}," Dentist's Notes ")],-1)),(0,l.Lk)("div",o,[(0,l.Lk)("div",d,[t[6]||(t[6]=(0,l.Lk)("p",{class:"text-primary text-weight-bold"},"Temperature",-1)),(0,l.bF)(y,{"hide-bottom-space":"",outlined:"",dense:"","input-style":"padding: 0","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.temperature,"onUpdate:modelValue":t[0]||(t[0]=t=>e.patientRecordInfo.temperature=t),label:"Â°C",style:{width:"200px"},rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"]},null,8,["modelValue","rules"])]),(0,l.Lk)("div",r,[t[8]||(t[8]=(0,l.Lk)("p",{class:"text-primary text-weight-bold"},"Blood Pressure",-1)),(0,l.Lk)("div",u,[(0,l.bF)(y,{"hide-bottom-space":"",outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.blood_pressure_systole,"onUpdate:modelValue":t[1]||(t[1]=t=>e.patientRecordInfo.blood_pressure_systole=t),style:{width:"80px"},rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"]},null,8,["modelValue","rules"]),t[7]||(t[7]=(0,l.Lk)("label",{class:"text-primary text-bold q-px-sm"},"/",-1)),(0,l.bF)(y,{"hide-bottom-space":"",outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.blood_pressure_diastole,"onUpdate:modelValue":t[2]||(t[2]=t=>e.patientRecordInfo.blood_pressure_diastole=t),style:{width:"80px"},rules:[e=>e&&!isNaN(e)||"Field must contain numbers only"]},null,8,["modelValue","rules"])])]),(0,l.Lk)("div",p,[t[9]||(t[9]=(0,l.Lk)("p",{class:"text-primary text-weight-bold"},"Complaint:",-1)),(0,l.bF)(y,{autogrow:"",outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.complaint,"onUpdate:modelValue":t[3]||(t[3]=t=>e.patientRecordInfo.complaint=t),"hide-bottom-space":"",style:{width:"200px"},rules:[e=>e&&e.length>0||"Required field"]},null,8,["modelValue","rules"])]),(0,l.Lk)("div",c,[t[10]||(t[10]=(0,l.Lk)("p",{class:"text-primary text-weight-bold"},"Checkup Date:",-1)),(0,l.bF)(y,{"hide-bottom-space":"",autogrow:"",outlined:"",dense:"","input-class":"text-right text-primary",modelValue:e.patientRecordInfo.checkup_date,"onUpdate:modelValue":t[4]||(t[4]=t=>e.patientRecordInfo.checkup_date=t),label:"YYYY-MM-DD",style:{width:"200px"},disable:""},null,8,["modelValue"])])])])])),_:1},8,["onSubmit"])])}a(939),a(4520);var b=a(4187),h=a(455),x=a(7370),y=a(8822),_=a(3328),f=a(891),k=a(3022),g=a(8564);const v={setup(){const e=(0,h.lq)(),t=(0,h.rd)(),a=(0,k.A)();let l=_.A.getItem("cred");NaN!=l&&null!=l||t.push({name:"login"});let s=(0,b.KR)({patient_id:e.params.id,doctor_id:{user_id:l?l.user_id:null,user_name:l&&l.first_name+" "+l.last_name+" "+(null!=l.suffix?l.suffix:"")},temperature:null,blood_pressure_systole:null,blood_pressure_diastole:null,complaint:null,checkup_date:f.Ay.formatDate(new Date,"YYYY-MM-DD"),status:0}),i=f.Ay.formatDate(new Date,"YYYY-MM-DD").replaceAll("-","/"),n=(0,b.KR)([]);const o=(e,t,a)=>{e.length>-1?t((()=>{const t=String(e.toLowerCase());(0,y.i4)(t).then((e=>{if(n.value=[],"success"===e.status){let t=(0,b.KR)([]);t.value=e.data,t.value.forEach((e=>{let t={user_name:e.user_name,user_id:e.id};n.value.push(t)}))}}))})):a()},d=()=>{g.A.show(),null!=s.value.doctor_id.user_id&&(s.value.doctor_id=s.value.doctor_id.user_id),(0,x.Nk)(s.value,e.params.department).then((l=>{g.A.hide();let s="success"===l.status?0:1;a.notify({type:0===s?"positive":"negative",classes:"text-white",message:0===s?"Patient record added successfully":"Failed to add patient record"}),0===s&&(e.params.queue?t.push({name:"Dental/patient_records",params:{record_id:l.data.record_id,department_queue:e.params.department,queue:e.params.queue}}):t.push({name:"Dental/patient_records",params:{record_id:l.data.record_id,department:e.params.department}}))}))},r=()=>{e.params.queue?t.push({name:"home"}):t.push({name:"patient-details",params:{id:e.params.id}})};return{keySession:l,addRecord:d,cancel:r,patientRecordInfo:s,userOptions:n,userFilterFunction:o,checkup_date:i}}};var w=a(2968),q=a(3417),L=a(1244),R=a(9549),F=a(6067),D=a(7861),V=a(8155),A=a(272),I=a.n(A);const Y=(0,w.A)(v,[["render",m],["__scopeId","data-v-1a068576"]]),N=Y;I()(v,"components",{QForm:q.A,QBtn:L.A,QSelect:R.A,QInput:F.A,QField:D.A,QBadge:V.A})}}]);